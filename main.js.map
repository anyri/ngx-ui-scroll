{"version":3,"sources":["webpack:///./demo/$_lazy_route_resource lazy namespace object","webpack:///./demo/app/app-routing.module.ts","webpack:///./demo/app/app.component.html","webpack:///./demo/app/app.component.ts","webpack:///./demo/app/app.module.ts","webpack:///./demo/app/samples/adapter.component.html","webpack:///./demo/app/samples/adapter.component.ts","webpack:///./demo/app/samples/adapter/is-loading.component.html","webpack:///./demo/app/samples/adapter/is-loading.component.ts","webpack:///./demo/app/samples/adapter/reload.component.html","webpack:///./demo/app/samples/adapter/reload.component.ts","webpack:///./demo/app/samples/common.component.html","webpack:///./demo/app/samples/common.component.ts","webpack:///./demo/app/samples/common/basic.component.html","webpack:///./demo/app/samples/common/basic.component.ts","webpack:///./demo/app/samples/common/buffer-size.component.html","webpack:///./demo/app/samples/common/buffer-size.component.ts","webpack:///./demo/app/samples/common/different-heights.component.html","webpack:///./demo/app/samples/common/different-heights.component.ts","webpack:///./demo/app/samples/common/horizontal.component.html","webpack:///./demo/app/samples/common/horizontal.component.ts","webpack:///./demo/app/samples/common/infinite.component.html","webpack:///./demo/app/samples/common/infinite.component.ts","webpack:///./demo/app/samples/common/padding.component.html","webpack:///./demo/app/samples/common/padding.component.ts","webpack:///./demo/app/samples/common/start-index.component.html","webpack:///./demo/app/samples/common/start-index.component.ts","webpack:///./demo/app/samples/common/window-viewport.component.html","webpack:///./demo/app/samples/common/window-viewport.component.ts","webpack:///./demo/app/samples/test.component.ts.TestInnerComponent.html","webpack:///./demo/app/samples/test.component.html","webpack:///./demo/app/samples/test.component.ts","webpack:///./demo/app/samples/window.component.html","webpack:///./demo/app/samples/window.component.ts","webpack:///./demo/app/shared/datasource-get.ts","webpack:///./demo/app/shared/demo.component.html","webpack:///./demo/app/shared/demo.component.ts","webpack:///./demo/app/shared/nav.component.html","webpack:///./demo/app/shared/nav.component.ts","webpack:///./demo/environments/environment.ts","webpack:///./demo/main.ts","webpack:///./public_api.ts","webpack:///./src/component/classes/adapter.ts","webpack:///./src/component/classes/buffer.ts","webpack:///./src/component/classes/cache.ts","webpack:///./src/component/classes/clip.ts","webpack:///./src/component/classes/datasource.ts","webpack:///./src/component/classes/domRoutines.ts","webpack:///./src/component/classes/fetch.ts","webpack:///./src/component/classes/item.ts","webpack:///./src/component/classes/padding.ts","webpack:///./src/component/classes/scrollHelper.ts","webpack:///./src/component/classes/settings.ts","webpack:///./src/component/classes/state.ts","webpack:///./src/component/classes/viewport.ts","webpack:///./src/component/interfaces/direction.ts","webpack:///./src/component/interfaces/index.ts","webpack:///./src/component/interfaces/process.ts","webpack:///./src/component/processes/clip.ts","webpack:///./src/component/processes/end.ts","webpack:///./src/component/processes/fetch.ts","webpack:///./src/component/processes/index.ts","webpack:///./src/component/processes/init.ts","webpack:///./src/component/processes/postFetch.ts","webpack:///./src/component/processes/postRender.ts","webpack:///./src/component/processes/preClip.ts","webpack:///./src/component/processes/preFetch.ts","webpack:///./src/component/processes/reload.ts","webpack:///./src/component/processes/render.ts","webpack:///./src/component/processes/start.ts","webpack:///./src/component/scroller.ts","webpack:///./src/component/utils/assignSettings.ts","webpack:///./src/component/utils/checkDatasource.ts","webpack:///./src/component/utils/index.ts","webpack:///./src/component/workflow.ts","webpack:///./src/ui-scroll.component.ts.UiScrollComponent.html","webpack:///./src/ui-scroll.component.ts","webpack:///./src/ui-scroll.directive.ts","webpack:///./src/ui-scroll.module.ts","webpack:///./src/ui-scroll.version.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./demo/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { CommonComponent } from './samples/common.component';\nimport { AdapterComponent } from './samples/adapter.component';\nimport { WindowComponent } from './samples/window.component';\nimport { TestComponent } from './samples/test.component';\n\nconst routes: Routes = [\n  { path: '', component: CommonComponent },\n  { path: 'adapter', component: AdapterComponent },\n  { path: 'window', component: WindowComponent },\n  { path: 'test', component: TestComponent },\n  { path: '**', redirectTo: '', pathMatch: 'full' },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { useHash: true })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {\n}\n","<div *ngIf=\"hasLayout\">\n  <app-nav></app-nav>\n\n  <div class=\"container mb-5\">\n\n    <h1>Angular UI Scroll Demo</h1>\n\n    <router-outlet></router-outlet>\n\n  </div>\n</div>\n\n<div *ngIf=\"!hasLayout\" class=\"no-layout\">\n  <router-outlet></router-outlet>\n</div>\n\n","import { Component, AfterViewInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, NavigationStart, Router, Event } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html'\n})\nexport class AppComponent implements AfterViewInit, OnDestroy {\n\n  hasLayout = true;\n  private subscriptions: Array<Subscription> = [];\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router\n  ) {\n    this.subscriptions.push(\n      router.events.pipe(\n        filter((event: Event) => event instanceof NavigationStart)\n      ).subscribe((event: Event) => {\n        event = <NavigationStart>event;\n        this.hasLayout = !(event.url === '/window' || event.url === '/test');\n      })\n    );\n  }\n\n  ngAfterViewInit() {\n    this.subscriptions.push(\n      this.route.fragment.subscribe((hash: string) => {\n        if (hash) {\n          setTimeout(() => {\n            const cmp = document.getElementById(hash);\n            if (cmp) {\n              cmp.scrollIntoView();\n            }\n          });\n        } else {\n          window.scrollTo(0, 0);\n        }\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((subscription: Subscription) => subscription.unsubscribe());\n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { TabsModule } from 'ngx-bootstrap';\n\nimport { UiScrollModule } from '../../public_api'; // from 'ngx-ui-scroll';\n\nimport { AppComponent } from './app.component';\nimport { NavComponent } from './shared/nav.component';\nimport { DemoComponent } from './shared/demo.component';\n\nimport { CommonComponent } from './samples/common.component';\nimport { AdapterComponent } from './samples/adapter.component';\n\nimport { DemoBasicComponent } from './samples/common/basic.component';\nimport { DemoBufferSizeComponent } from './samples/common/buffer-size.component';\nimport { DemoPaddingComponent } from './samples/common/padding.component';\nimport { DemoStartIndexComponent } from './samples/common/start-index.component';\nimport { DemoInfiniteComponent } from './samples/common/infinite.component';\nimport { DemoHorizontalComponent } from './samples/common/horizontal.component';\nimport { DemoDifferentHeightsComponent } from './samples/common/different-heights.component';\nimport { DemoWindowViewportComponent } from './samples/common/window-viewport.component';\nimport { DemoReloadComponent } from './samples/adapter/reload.component';\nimport { DemoIsLoadingComponent } from './samples/adapter/is-loading.component';\nimport { WindowComponent } from './samples/window.component';\nimport { TestComponent, TestInnerComponent } from './samples/test.component';\n\nimport { AppRoutingModule } from './app-routing.module';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    NavComponent,\n    DemoComponent,\n    CommonComponent,\n    AdapterComponent,\n    DemoBasicComponent,\n    DemoBufferSizeComponent,\n    DemoPaddingComponent,\n    DemoStartIndexComponent,\n    DemoInfiniteComponent,\n    DemoHorizontalComponent,\n    DemoDifferentHeightsComponent,\n    DemoWindowViewportComponent,\n    DemoReloadComponent,\n    DemoIsLoadingComponent,\n    WindowComponent,\n    TestComponent,\n    TestInnerComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    TabsModule.forRoot(),\n    UiScrollModule,\n    AppRoutingModule\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","<app-demo-reload></app-demo-reload>\n<app-demo-is-loading></app-demo-is-loading>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-samples-adapter',\n  templateUrl: './adapter.component.html'\n})\nexport class AdapterComponent {\n\n  constructor() {\n  }\n\n}\n","<app-demo\n  [datasource]=\"datasource\"\n  [context]=\"demoContext\"\n  [sources]=\"sources\"\n>\n  <div actions>\n    The uiScroll is {{datasource.adapter.isLoading ? 'loading': 'relaxing'}}.\n  </div>\n  <div description>\n    <p>\n      The <em>uiScroll Adapter</em> has some read-only properties which could be used to get knowledge of the\n      <em>uiScroll</em> state. The first property is <em>Adapter.isLoading</em>. It is a boolean value\n      indicating whether there are any pending load requests. So, <em>datasource.adapter.isLoading = true</em>\n      means that the <em>uiScroll</em> is working right now and the viewport will be updated soon. 125ms delay\n      was added to the <em>Datasource.get</em> implementation in this sample.\n    </p>\n    <p>\n      In these demos the <em>Datasource</em> is being instantiated via operator <em>new</em>. The main purpose is\n      to protect <em>Adapter</em> methods/properties from too early calls. The augmentation of the\n      <em>Datasource</em> object occurs during the <em>uiScroll</em> instantiating, so providing the object\n      initializer into the <em>*uiScroll</em> directive (<em>datasource: IDatasource = &#123; get: ... &#125;</em>)\n      may lead to problems. For example\n    </p>\n    <ul>\n      <li>\n        <em>TypeError: Cannot read property 'reload' of undefined</em> if you would try to call\n        <em>datasource.adapter.reload()</em> method on the App component's constructor;\n      </li>\n      <li>\n        <em>ERROR TypeError: Cannot read property 'isLoading' of undefined</em> if you would try to use\n        <em>&#123;<!---->&#123;datasource.adapter.isLoading&#125;<!---->&#125;</em> in the App component's\n        template.\n      </li>\n    </ul>\n    <p>\n      Of course the problem could be avoided by writing something like <em>datasource.adapter &&\n      datasource.adapter.isLoading</em>, but instantiating the <em>Datasource</em> object via operator <em>new</em>\n      solves the issue by immediately setting up the <em>Adapter mock object</em> on the <em>Datasource's</em>\n      constructor. It defines the adapter property and null-returning stub methods on it. The <em>uiScroll</em>\n      will override this adapter property after it is integrated to the App component.\n    </p>\n  </div>\n</app-demo>\n","import { Component } from '@angular/core';\n\nimport { DemoContext, DemoSources } from '../../shared/interfaces';\nimport { datasourceGetCallbackInfinite } from '../../shared/datasource-get';\n\nimport { Datasource } from '../../../../public_api'; // from 'ngx-ui-scroll';\n\n@Component({\n  selector: 'app-demo-is-loading',\n  templateUrl: './is-loading.component.html'\n})\nexport class DemoIsLoadingComponent {\n\n  demoContext: DemoContext = <DemoContext> {\n    scope: 'adapter',\n    title: `Is loading?`,\n    titleId: `is-loading`,\n    viewportId: `is-loading-viewport`,\n    count: 0,\n    log: ''\n  };\n\n  datasource = new Datasource({\n    get: datasourceGetCallbackInfinite(this.demoContext, 125)\n  });\n\n  sources: DemoSources = {\n    datasource: `datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    setTimeout(() => success(data), 125);\n  }\n});`,\n    template: `The uiScroll is {{datasource.adapter.isLoading ? 'loading': 'relaxing'}}.\n\n<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>`,\n    styles: `.viewport {\n  width: 175px;\n  height: 175px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}`\n  };\n\n}\n","<app-demo\n  [datasource]=\"datasource\"\n  [context]=\"demoContext\"\n  [sources]=\"sources\"\n>\n  <div actions>\n    <button (click)=\"doReload()\">Reload</button>\n    &nbsp; by index &nbsp;\n    <input [ngModel]=\"reloadIndex\" (change)=\"onInputChanged($event.target)\" size=\"2\">\n  </div>\n\n  <div description>\n    <p>\n      The <em>uiScroll</em> augments the <em>Datasource</em> object passed from the outside during instantiating\n      to provide an API to manipulate and assess the scroller. This API is accessible via special <em>Adapter</em>\n      object. Currently it has only one method that allows you to reload the scroller:\n      <em>Adapter.reload(index)</em>. It resets the items buffer, resets the viewport params and starts\n      fetching items\n    </p>\n    <ul>\n      <li> from <em>index</em> position (if <em>reload</em> is called with parameter)</li>\n      <li> from <em>settings.startIndex</em> position (if <em>startIndex</em> setting is set)</li>\n      <li> from the default position which is 1 (if neither setting nor parameter is present)</li>\n    </ul>\n  </div>\n</app-demo>\n","import { Component } from '@angular/core';\n\nimport { DemoContext, DemoSources } from '../../shared/interfaces';\nimport { datasourceGetCallbackInfinite } from '../../shared/datasource-get';\n\nimport { Datasource } from '../../../../public_api'; // from 'ngx-ui-scroll';\n\n@Component({\n  selector: 'app-demo-reload',\n  templateUrl: './reload.component.html'\n})\nexport class DemoReloadComponent {\n\n  demoContext: DemoContext = <DemoContext> {\n    scope: 'adapter',\n    title: `Reload`,\n    titleId: `reload`,\n    viewportId: `reload-viewport`,\n    count: 0,\n    log: ''\n  };\n\n  datasource = new Datasource ({\n    get: datasourceGetCallbackInfinite(this.demoContext)\n  });\n\n  sources: DemoSources = {\n    datasource: `datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nreloadIndex: number = 1;\n\ndoReload() {\n  this.datasource.adapter.reload(this.reloadIndex);\n}`,\n    template: `<button (click)=\"doReload()\">Reload</button>\n<input [(ngModel)]=\"reloadIndex\">\n\n<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>`,\n    styles: `.viewport {\n  width: 175px;\n  height: 175px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}`\n  };\n\n  reloadIndex = 1;\n\n  onInputChanged(target: HTMLInputElement) {\n    let value = parseInt(target.value, 10);\n    if (isNaN(value)) {\n      value = 1;\n    }\n    target.value = value.toString();\n    this.reloadIndex = value;\n  }\n\n  doReload() {\n    this.demoContext.count = 0;\n    this.demoContext.log = '';\n    this.datasource.adapter.reload(this.reloadIndex);\n  }\n\n}\n","<app-demo-basic></app-demo-basic>\n<app-demo-buffer-size></app-demo-buffer-size>\n<app-demo-padding></app-demo-padding>\n<app-demo-start-index></app-demo-start-index>\n<app-demo-infinite></app-demo-infinite>\n<app-demo-horizontal></app-demo-horizontal>\n<app-demo-different-heights></app-demo-different-heights>\n<app-demo-window-viewport></app-demo-window-viewport>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-samples-common',\n  templateUrl: './common.component.html'\n})\nexport class CommonComponent {\n\n  constructor() {\n  }\n\n}\n","<app-demo\n  [datasource]=\"datasource\"\n  [context]=\"demoContext\"\n  [sources]=\"sources\"\n>\n  <div description>\n    <p>\n      As it follows from the documentation, a special <em>Datasource</em> object needs to be passed to the\n      <em>*uiScroll</em> directive. The basic ngx-ui-scroll example includes primitive callback-based\n      <em>Datasource.get</em> method implementation with no additional settings. The use of the <em>*uiScroll</em>\n      directive at the template layer is very similar to the use of <em>*ngFor</em> directive in the simplest case. In\n      addition to <em>Datasource</em>, a special viewport container is specified at the template. It defines the\n      scrollable area via <em>height</em> and <em>overflow</em> css properties.\n    </p>\n    <p>\n      <em>Datasource.get</em> log shows us that there are 4 requests of 5 items on the initial load (before\n      scrolling). So we have 20 DOM elements (4 * 5) initially. The number of DOM elements is not constant during\n      user scrolling, but it fluctuates around the initial value. Why do we get 5 items per each\n      <em>datasource.get</em> call? It is so because of default. We may change it via settings object and\n      <em>bufferSize</em> property.\n    </p>\n  </div>\n</app-demo>\n","import { Component } from '@angular/core';\n\nimport { DemoContext, DemoSources } from '../../shared/interfaces';\nimport { datasourceGetCallbackInfinite } from '../../shared/datasource-get';\n\nimport { IDatasource } from '../../../../public_api'; // from 'ngx-ui-scroll';\n\n@Component({\n  selector: 'app-demo-basic',\n  templateUrl: './basic.component.html'\n})\nexport class DemoBasicComponent {\n\n  demoContext: DemoContext = <DemoContext> {\n    title: `Unlimited bidirectional scrolling`,\n    titleId: `unlimited-bidirectional-scrolling`,\n    viewportId: `basic-viewport`,\n    count: 0,\n    log: ''\n  };\n\n  datasource: IDatasource = {\n    get: datasourceGetCallbackInfinite(this.demoContext)\n  };\n\n  sources: DemoSources = {\n    datasource: `datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n}`,\n    template: `<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>`,\n    styles: `.viewport {\n  width: 175px;\n  height: 175px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}`\n  };\n\n}\n","<app-demo\n  [datasource]=\"datasource\"\n  [context]=\"demoContext\"\n  [sources]=\"sources\"\n>\n  <div description>\n    <p>\n      In addition to <em>get</em> method, <em>settings</em> object can be declared on the <em>Datasource</em>. Here\n      we set <em>bufferSize</em> property which defines number of items requested from the datasource in a single\n      request. Now the initial load consist of 2 requests (from 1 to 15 and from -14 to 0). The bigger the\n      <em>bufferSize</em> is, the less requests are needed to fill out the viewport. The default value of\n      <em>bufferSize</em> property is 5. The minimum value is 1. Another setting which has an impact on the\n      viewport's filling procedure is <em>padding</em>.\n    </p>\n  </div>\n</app-demo>\n","import { Component } from '@angular/core';\n\nimport { DemoContext, DemoSources } from '../../shared/interfaces';\nimport { datasourceGetCallbackInfinite } from '../../shared/datasource-get';\n\nimport { IDatasource } from '../../../../public_api'; // from 'ngx-ui-scroll';\n\n@Component({\n  selector: 'app-demo-buffer-size',\n  templateUrl: './buffer-size.component.html'\n})\nexport class DemoBufferSizeComponent {\n\n  demoContext: DemoContext = <DemoContext> {\n    title: `bufferSize setting`,\n    titleId: `buffer-size-setting`,\n    viewportId: `buffer-size-viewport`,\n    count: 0,\n    log: ''\n  };\n\n  datasource: IDatasource = {\n    get: datasourceGetCallbackInfinite(this.demoContext),\n    settings: {\n      bufferSize: 15\n    }\n  };\n\n  sources: DemoSources = {\n    datasource: `datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 15\n  }\n}`,\n    template: `<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>`,\n    styles: `.viewport {\n  width: 175px;\n  height: 175px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}`\n  };\n\n}\n","<app-demo\n  [datasource]=\"datasource\"\n  [context]=\"demoContext\"\n  [sources]=\"sources\"\n>\n  <div description>\n    <p>\n      Scroller works fine with different item heights. To make this sample more strict and to demonstrate the\n      scrollbar parameters' consistency the limited datasource is being used.\n    </p>\n  </div>\n</app-demo>\n","import { Component } from '@angular/core';\n\nimport { DemoContext, DemoSources } from '../../shared/interfaces';\nimport { datasourceGetCallbackLimited } from '../../shared/datasource-get';\n\nimport { IDatasource } from '../../../../public_api'; // from 'ngx-ui-scroll';\n\n@Component({\n  selector: 'app-demo-different-heights',\n  templateUrl: './different-heights.component.html'\n})\nexport class DemoDifferentHeightsComponent {\n\n  demoContext: DemoContext = <DemoContext> {\n    title: `Different item heights`,\n    titleId: `different-item-heights`,\n    viewportId: `different-heights-viewport`,\n    count: 0,\n    log: ''\n  };\n\n  datasource: IDatasource = {\n    get: datasourceGetCallbackLimited(this.demoContext, 1, 75)\n  };\n\n  sources: DemoSources = {\n    datasource: `datasource: IDatasource = {\n  get: (index, count, success) => {\n    const MIN = 1, MAX = 75;\n    const data = [];\n    const start = Math.max(MIN, index);\n    const end = Math.min(index + count - 1, MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i, height: 20 + i });\n      }\n    }\n    success(data);\n  }\n}`,\n    template: `<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n     <div class=\"item\" [style.height]=\"item.height + 'px'\">\n      {{item.text}}\n     </div>\n  </div>\n</div>`,\n    styles: `.viewport {\n  width: 175px;\n  height: 175px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}`\n  };\n\n}\n","<app-demo\n  [datasource]=\"datasource\"\n  [context]=\"demoContext\"\n  [sources]=\"sources\"\n>\n  <div description>\n    <p>\n      Horizontal scrolling could be enabled via <em>horizontal</em> setting. The styles also need to be fixed in\n      accordance with horizontal scrolling. Currently we have some limitations at the template layer but\n      <em>display: inline-block;</em> rule applied to all nested containers makes the horizontal mode work.\n    </p>\n  </div>\n</app-demo>\n","import { Component } from '@angular/core';\n\nimport { DemoContext, DemoSources } from '../../shared/interfaces';\nimport { datasourceGetCallbackInfinite } from '../../shared/datasource-get';\n\nimport { IDatasource } from '../../../../public_api'; // from 'ngx-ui-scroll';\n\n@Component({\n  selector: 'app-demo-horizontal',\n  templateUrl: './horizontal.component.html'\n})\nexport class DemoHorizontalComponent {\n\n  demoContext: DemoContext = <DemoContext> {\n    title: `Horizontal mode`,\n    titleId: `horizontal-mode`,\n    viewportId: `horizontal-viewport`,\n    addClass: `horizontal`,\n    count: 0,\n    log: ''\n  };\n\n  datasource: IDatasource = {\n    get: datasourceGetCallbackInfinite(this.demoContext),\n    settings: {\n      horizontal: true\n    }\n  };\n\n  sources: DemoSources = {\n    datasource: `datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    horizontal: true\n  }\n}`,\n    template: `<div class=\"viewport horizontal\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item horizontal\">{{item.text}}</div>\n  </div>\n</div>`,\n    styles: `.viewport.horizontal {\n  width: 175px;\n  height: 100px;\n  overflow-anchor: none;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  white-space: nowrap;\n}\n.viewport.horizontal div {\n  display: inline-block;\n}\n.item.horizontal {\n  border: 1px solid #aaa;\n  height: 100px;\n  padding: 0 5px;\n  font-weight: bolder;\n}`\n  };\n\n}\n","<app-demo\n  [datasource]=\"datasource\"\n  [context]=\"demoContext\"\n  [sources]=\"sources\"\n>\n  <div description>\n    <p>\n      The <em>uiScroll</em> might work in the \"infinite\" mode, when items are never removed. This mode can\n      be turned on via <em>infinite</em> property of the <em>settings</em> object. Setting <em>infinite</em> to true,\n      we ask the scroller not to remove items that are getting out of the viewport. That's why the DOM elements\n      counter value is being increased per each edge-scroll event.\n    </p>\n  </div>\n</app-demo>\n","import { Component } from '@angular/core';\n\nimport { DemoContext, DemoSources } from '../../shared/interfaces';\nimport { datasourceGetCallbackInfinite } from '../../shared/datasource-get';\n\nimport { IDatasource } from '../../../../public_api'; // from 'ngx-ui-scroll';\n\n@Component({\n  selector: 'app-demo-infinite',\n  templateUrl: './infinite.component.html'\n})\nexport class DemoInfiniteComponent {\n\n  demoContext: DemoContext = <DemoContext> {\n    title: `Infinite mode`,\n    titleId: `infinite-mode`,\n    viewportId: `infinite-viewport`,\n    count: 0,\n    log: ''\n  };\n\n  datasource: IDatasource = {\n    get: datasourceGetCallbackInfinite(this.demoContext),\n    settings: {\n      infinite: true\n    }\n  };\n\n  sources: DemoSources = {\n    datasource: `datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    infinite: true\n  }\n}`,\n    template: `<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>`,\n    styles: `.viewport {\n  width: 175px;\n  height: 175px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}`\n  };\n\n}\n","<app-demo\n  [datasource]=\"datasource\"\n  [context]=\"demoContext\"\n  [sources]=\"sources\"\n>\n  <div description>\n    <p>\n      Here the <em>Datasource.get</em> is taken from previous samples, but the settings object is completed with\n      <em>padding</em> property. <em>Padding</em> is an extra space added to the visible part of the viewport for\n      the purpose of determining when the items should be created/destroyed. The value is relative to the visible\n      size of the viewport. <em>1.4</em> means that the <em>uiScroll</em> would request new items until\n      140% of the viewport size (out of the visible part of the viewport) is filled with rendered items. That's why\n      we have 5 requests on the initial load in this case. There are 3 downward requests:\n    </p>\n    <ol>\n      <li>175px + 1.4 * 175px = 420px (downward space which has to be filled, when viewport's height = 175px )</li>\n      <li>ceil(420px / 25px) = 17 (items that are needed to feel 420px of the downward space, when item's height =\n        25px )\n      </li>\n      <li>ceil(17 / 7) = 3 (datasource.get calls that are needed to request 17 items, when bufferSize = 7)</li>\n    </ol>\n    <p>\n      And 2 upward requests:\n    </p>\n    <ol>\n      <li>1.4 * 175px = 245px (upward space which have to be filled)</li>\n      <li>ceil(245px / 25px) = 10 (items that are needed to feel 245px of the upward space)</li>\n      <li>ceil(10 / 7) = 2 (datasource.get calls that are needed to request 10 items)</li>\n    </ol>\n    <p>\n      The default value of <em>padding</em> property is 0.5. The minimum value is 0.1.\n    </p>\n  </div>\n</app-demo>\n","import { Component } from '@angular/core';\n\nimport { DemoContext, DemoSources } from '../../shared/interfaces';\nimport { datasourceGetCallbackInfinite } from '../../shared/datasource-get';\n\nimport { IDatasource } from '../../../../public_api'; // from 'ngx-ui-scroll';\n\n@Component({\n  selector: 'app-demo-padding',\n  templateUrl: './padding.component.html'\n})\nexport class DemoPaddingComponent {\n\n  demoContext: DemoContext = <DemoContext> {\n    title: `padding setting`,\n    titleId: `padding-setting`,\n    viewportId: `padding-viewport`,\n    count: 0,\n    log: ''\n  };\n\n  datasource: IDatasource = {\n    get: datasourceGetCallbackInfinite(this.demoContext),\n    settings: {\n      bufferSize: 7,\n      padding: 1.5\n    }\n  };\n\n  sources: DemoSources = {\n    datasource: `datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 7,\n    padding: 1.4\n  }\n}`,\n    template: `<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>`,\n    styles: `.viewport {\n  width: 175px;\n  height: 175px;\n  overflow-y: auto;\n  overflow-anchor: none;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}`\n  };\n\n}\n","<app-demo\r\n  [datasource]=\"datasource\"\r\n  [context]=\"demoContext\"\r\n  [sources]=\"sources\"\r\n>\r\n  <div description>\r\n    <p>\r\n      What if I want to start the <em>uiScroll</em> from some specific position? It is possible via <em>startIndex</em>\r\n      setting which defines what item index the scroller will use to start the load process. The value has to be\r\n      an integer. It has no range limitations, but it must exist within the datasource boundaries in case the\r\n      <em>Datasource</em> is limited. The default value of <em>startIndex</em> setting is 1.\r\n    </p>\r\n  </div>\r\n</app-demo>\r\n","import { Component } from '@angular/core';\r\n\r\nimport { DemoContext, DemoSources } from '../../shared/interfaces';\r\nimport { datasourceGetCallbackInfinite } from '../../shared/datasource-get';\r\n\r\nimport { IDatasource } from '../../../../public_api'; // from 'ngx-ui-scroll';\r\n\r\n@Component({\r\n  selector: 'app-demo-start-index',\r\n  templateUrl: './start-index.component.html'\r\n})\r\nexport class DemoStartIndexComponent {\r\n\r\n  demoContext: DemoContext = <DemoContext> {\r\n    title: `startIndex setting`,\r\n    titleId: `start-index-setting`,\r\n    viewportId: `start-index-viewport`,\r\n    count: 0,\r\n    log: ''\r\n  };\r\n\r\n  datasource: IDatasource = {\r\n    get: datasourceGetCallbackInfinite(this.demoContext),\r\n    settings: {\r\n      startIndex: 137\r\n    }\r\n  };\r\n\r\n  sources: DemoSources = {\r\n    datasource: `datasource: IDatasource = {\r\n  get: (index, count, success) => {\r\n    const data = [];\r\n    for (let i = index; i <= index + count - 1; i++) {\r\n      data.push({ id: i, text: 'item #' + i });\r\n    }\r\n    success(data);\r\n  },\r\n  settings: {\r\n    startIndex: 137\r\n  }\r\n}`,\r\n    template: `<div class=\"viewport\">\r\n  <div *uiScroll=\"let item of datasource\">\r\n    <div class=\"item\">{{item.text}}</div>\r\n  </div>\r\n</div>`,\r\n    styles: `.viewport {\r\n  width: 175px;\r\n  height: 175px;\r\n  overflow-y: auto;\r\n  overflow-anchor: none;\r\n}\r\n.item {\r\n  font-weight: bold;\r\n  height: 25px;\r\n}`\r\n  };\r\n\r\n}\r\n","<app-demo\r\n  [context]=\"demoContext\"\r\n  [sources]=\"sources\"\r\n>\r\n  <div actions>\r\n    Follow <a routerLink=\"/window\">this link</a> to open the Entire Window scrollable demo.\r\n  </div>\r\n\r\n  <div description>\r\n    <p>\r\n      The entire window might work as a Viewport if <em>windowViewport</em> setting is set to true.\r\n    </p>\r\n  </div>\r\n</app-demo>\r\n","import { Component } from '@angular/core';\r\n\r\nimport { DemoContext, DemoSources } from '../../shared/interfaces';\r\n\r\n@Component({\r\n  selector: 'app-demo-window-viewport',\r\n  templateUrl: './window-viewport.component.html'\r\n})\r\nexport class DemoWindowViewportComponent {\r\n\r\n  demoContext: DemoContext = <DemoContext> {\r\n    title: `Entire window scrollable`,\r\n    titleId: `window-viewport-setting`,\r\n    viewportId: `window-viewport-viewport`,\r\n    noWorkView: true,\r\n    count: 0,\r\n    log: ''\r\n  };\r\n\r\n  sources: DemoSources = {\r\n    datasource: `datasource: IDatasource = {\r\n  get: (index, count, success) => {\r\n    const data = [];\r\n    for (let i = index; i <= index + count - 1; i++) {\r\n      data.push({ id: i, text: 'item #' + i });\r\n    }\r\n    success(data);\r\n  },\r\n  settings: {\r\n    windowViewport: true\r\n  }\r\n}`,\r\n    template: `<div *uiScroll=\"let item of datasource\">\r\n  <div class=\"item\">{{item.text}}</div>\r\n</div>`,\r\n    styles: `.item {\r\n  font-weight: bold;\r\n  height: 25px;\r\n}`\r\n  };\r\n\r\n}\r\n","<b><ng-content></ng-content></b>","<div>\r\n  <input [(ngModel)]=\"reloadIndex\">\r\n  <button (click)=\"doReload()\">Reload</button>\r\n  <br>\r\n  <small>ngx-ui-scroll version: {{datasource.adapter.version}}</small>\r\n  <br>\r\n  <small>isLoading:\r\n    {{datasource.adapter.isLoading}}\r\n    ({{(datasource.adapter.isLoading$ | async)}})\r\n  </small>\r\n  <br>\r\n  <small>first visible:\r\n    {{datasource.adapter.firstVisible.$index}}\r\n    ({{(datasource.adapter.firstVisible$ | async)?.$index}})\r\n  </small>\r\n  <br>\r\n  <small>last visible:\r\n    {{datasource.adapter.lastVisible.$index}}\r\n    ({{(datasource.adapter.lastVisible$ | async)?.$index}})\r\n  </small>\r\n  <br>\r\n  <small>total:\r\n    {{datasource.adapter.itemsCount}},\r\n    visible:\r\n    {{getVisibleItemsCount()}}\r\n  </small>\r\n  <br><br>\r\n</div>\r\n\r\n<div class=\"viewport\" style=\"height: 600px\">\r\n  <div *uiScroll=\"let item of datasource\">\r\n    <app-samples-test-inner>\r\n      {{item.text}} {{item.id % 10 === 0 ? '**********' : ''}}\r\n    </app-samples-test-inner>\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { Observable, Observer } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\n\r\nimport { Datasource } from '../../../public_api'; // from 'ngx-ui-scroll';\r\n\r\nconst MAX = 500;\r\nconst MIN = -1000;\r\n\r\n@Component({\r\n  selector: 'app-samples-test-inner',\r\n  template: '<b><ng-content></ng-content></b>'\r\n})\r\nexport class TestInnerComponent {\r\n\r\n  constructor() {\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'app-samples-test',\r\n  templateUrl: './test.component.html'\r\n})\r\nexport class TestComponent {\r\n\r\n  reloadIndex = 1;\r\n  visibleItemsCount: number;\r\n  readonly data: Array<any>;\r\n\r\n  constructor() {\r\n    this.data = [];\r\n    for (let i = 0; i <= MAX - MIN; i++) {\r\n      this.data.push({\r\n        id: i + MIN,\r\n        text: 'item #' + (i + MIN)\r\n      });\r\n    }\r\n    this.datasource.adapter.firstVisible$\r\n      .subscribe((value) => {\r\n        console.log('..............................first visible item:', value);\r\n      });\r\n  }\r\n\r\n  datasource = new Datasource({\r\n    get: (index: number, count: number) =>\r\n      this.fetchData(index, count)\r\n    ,\r\n    settings: {\r\n      bufferSize: 20\r\n    },\r\n    devSettings: {\r\n      debug: true\r\n    }\r\n  });\r\n\r\n  getVisibleItemsCount(): number {\r\n    const adapter = this.datasource.adapter;\r\n    let last = <number>adapter.lastVisible.$index;\r\n    last = Number.isInteger(last) ? last : NaN;\r\n    let first = <number>adapter.firstVisible.$index;\r\n    first = Number.isInteger(first) ? first : NaN;\r\n    return (Number.isNaN(last) || Number.isNaN(first)) ? 0 : last - first + 1;\r\n  }\r\n\r\n  doReload() {\r\n    this.datasource.adapter.reload(this.reloadIndex);\r\n  }\r\n\r\n  fetchData(index: number, count: number): Observable<Array<any>> {\r\n    const data: Array<any> = [];\r\n    const start = Math.max(MIN, index);\r\n    const end = Math.min(MAX, index + count - 1);\r\n    if (start <= end) {\r\n      for (let i = start; i <= end; i++) {\r\n        data.push(this.data[i - MIN]);\r\n      }\r\n    }\r\n    return Observable.create((observer: Observer<any>) => {\r\n      // setTimeout(() => observer.next(data), 500);\r\n      observer.next(data);\r\n    });\r\n  }\r\n}\r\n","<div class=\"header\">\n  <h1>Entire window scrolling demo</h1>\n  <a class=\"navbar-link\" routerLink=\"/\">Home</a>\n</div>\n\n<div *ngIf=\"init\">\n  <div *uiScroll=\"let item of datasource\">\n    <b>{{item.text}}</b>\n  </div>\n</div>\n","import { Component } from '@angular/core';\n\nimport { IDatasource } from '../../../public_api'; // from 'ngx-ui-scroll';\n\n@Component({\n  selector: 'app-samples-window',\n  templateUrl: './window.component.html'\n})\nexport class WindowComponent {\n\n  init: boolean;\n\n  constructor() {\n    setTimeout(() => this.init = true);\n  }\n\n  datasource: IDatasource = {\n    get: (index: number, count: number, success: Function) => {\n      const start = Math.max(index, 1);\n      const end = start + count;\n      const data = [];\n      if (start < end) {\n        for (let i = start; i <= index + count - 1; i++) {\n          data.push({ id: i, text: 'item #' + i });\n        }\n      }\n      success(data);\n    },\n    settings: {\n      bufferSize: 10,\n      padding: 0.01,\n      startIndex: 1,\n      windowViewport: true\n    }\n  };\n\n}\n","import { Observable, Observer } from 'rxjs';\r\n\r\nimport { DemoContext } from './interfaces';\r\n\r\nconst delayedCall = (result: any, callback: Function, delay?: number) => {\r\n  if (isNaN(Number(delay))) {\r\n    callback(result);\r\n  } else {\r\n    setTimeout(() => callback(result), Number(delay));\r\n  }\r\n};\r\n\r\nconst doLog = (demoContext: DemoContext, index: number, count: number, resolved: number) =>\r\n  demoContext.log =\r\n    `${++demoContext.count}) got ${resolved} items [${index}, ${index + count - 1}]\\n`\r\n    + demoContext.log;\r\n\r\nexport const datasourceGetInfinite =\r\n  (demoContext: DemoContext, index: number, count: number) => {\r\n    const data = [];\r\n    for (let i = index; i <= index + count - 1; i++) {\r\n      data.push({ id: i, text: 'item #' + i });\r\n    }\r\n    doLog(demoContext, index, count, data.length);\r\n    return data;\r\n  };\r\n\r\nexport const datasourceGetLimited =\r\n  (demoContext: DemoContext, min: number, max: number, index: number, count: number) => {\r\n    min = isNaN(Number(min)) ? Number.NEGATIVE_INFINITY : Number(min);\r\n    max = isNaN(Number(max)) ? Number.POSITIVE_INFINITY : Number(max);\r\n    const data = [];\r\n    const start = Math.max(min, index);\r\n    const end = Math.min(index + count - 1, max);\r\n    if (start <= end) {\r\n      for (let i = start; i <= end; i++) {\r\n        data.push({ id: i, text: 'item #' + i, height: 20 + i });\r\n      }\r\n    }\r\n    doLog(demoContext, index, count, data.length);\r\n    return data;\r\n  };\r\n\r\nexport const datasourceGetObservableInfinite = (demoContext: DemoContext) =>\r\n  (index: number, count: number) => Observable.create((observer: Observer<any>) =>\r\n    observer.next(datasourceGetInfinite(demoContext, index, count))\r\n  );\r\n\r\nexport const datasourceGetPromiseInfinite = (demoContext: DemoContext) =>\r\n  (index: number, count: number) => new Promise(success =>\r\n    success(datasourceGetInfinite(demoContext, index, count))\r\n  );\r\n\r\nexport const datasourceGetCallbackInfinite = (demoContext: DemoContext, delay?: number) =>\r\n  (index: number, count: number, success: Function) =>\r\n    delayedCall(datasourceGetInfinite(demoContext, index, count), success, delay);\r\n\r\nexport const datasourceGetCallbackLimited = (demoContext: DemoContext, min: number, max: number, delay?: number) =>\r\n  (index: number, count: number, success: Function) =>\r\n    delayedCall(datasourceGetLimited(demoContext, min, max, index, count), success, delay);\r\n","<div class=\"demo\">\r\n\r\n  <h3 id=\"{{context.titleId}}\">\r\n    {{context.title}}\r\n    <a href=\"#/{{context.scope}}#{{context.titleId}}\">#</a>\r\n  </h3>\r\n\r\n  <div class=\"actions\">\r\n    <ng-content select=\"[actions]\"></ng-content>\r\n  </div>\r\n\r\n  <div class=\"work\" *ngIf=\"!context.noWorkView\">\r\n    <div style=\"float: left\">\r\n      <div class=\"viewport {{context.addClass || ''}}\" id=\"{{context.viewportId}}\">\r\n        <div *uiScroll=\"let item of datasource\">\r\n          <div\r\n            class=\"item {{context.addClass || ''}}\"\r\n            [style.height]=\"item.height !== undefined ? item.height + 'px' : null\"\r\n          >{{item.text}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"log elements {{context.addClass || ''}}\">\r\n      DOM elements\r\n      <pre>{{elements(context.viewportId)}}</pre>\r\n    </div>\r\n    <div class=\"log datasource {{context.addClass || ''}}\">\r\n      Datasource.get log\r\n      <pre>{{context.log}}</pre>\r\n    </div>\r\n    <div class=\"clearfix mb-3\"></div>\r\n  </div>\r\n\r\n  <div class=\"sources\">\r\n    <tabset>\r\n      <tab heading=\"Component\">\r\n        <pre class=\"prettyprint\">{{sources.datasource}}</pre>\r\n      </tab>\r\n      <tab heading=\"Template\">\r\n        <pre class=\"prettyprint lang-html\">{{sources.template}}</pre>\r\n      </tab>\r\n      <tab heading=\"CSS\">\r\n        <pre class=\"prettyprint\">{{sources.styles}}</pre>\r\n      </tab>\r\n    </tabset>\r\n  </div>\r\n\r\n  <div class=\"description\">\r\n    <ng-content select=\"[description]\"></ng-content>\r\n  </div>\r\n\r\n</div>\r\n","import { Component, Input } from '@angular/core';\r\nimport { DemoContext, DemoSources } from './interfaces';\r\n\r\nimport { Datasource } from '../../../public_api'; // from 'ngx-ui-scroll';\r\n\r\n@Component({\r\n  selector: 'app-demo',\r\n  templateUrl: './demo.component.html'\r\n})\r\nexport class DemoComponent {\r\n\r\n  @Input() datasource: Datasource;\r\n  @Input() context: DemoContext;\r\n  @Input() sources: DemoSources;\r\n\r\n  elements(token: string): string {\r\n    const element = document.getElementById(token);\r\n    if (!element) {\r\n      return '';\r\n    }\r\n    const count = element.children[0].childElementCount || 0;\r\n    return (count - 2).toString(10);\r\n  }\r\n\r\n  constructor() {\r\n  }\r\n\r\n}\r\n","<nav class=\"navbar navbar-expand-lg  navbar-dark bg-dark\">\r\n  <div class=\"container\">\r\n    <a href=\"https://github.com/dhilt/ngx-ui-scroll\" class=\"github-corner\" aria-label=\"View source on Github\">\r\n      <svg width=\"80\" height=\"80\" viewBox=\"0 0 250 250\"\r\n           style=\"fill:#fff; color:#343a40; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);\"\r\n           aria-hidden=\"true\">\r\n        <path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"></path>\r\n        <path\r\n          d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\"\r\n          fill=\"currentColor\" style=\"transform-origin: 130px 106px;\" class=\"octo-arm\"></path>\r\n        <path\r\n          d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\"\r\n          fill=\"currentColor\" class=\"octo-body\"></path>\r\n      </svg>\r\n    </a>\r\n    <style>.github-corner:hover .octo-arm {\r\n      animation: octocat-wave 560ms ease-in-out\r\n    }\r\n\r\n    @keyframes octocat-wave {\r\n      0%, 100% {\r\n        transform: rotate(0)\r\n      }\r\n      20%, 60% {\r\n        transform: rotate(-25deg)\r\n      }\r\n      40%, 80% {\r\n        transform: rotate(10deg)\r\n      }\r\n    }\r\n\r\n    @media (max-width: 500px) {\r\n      .github-corner:hover .octo-arm {\r\n        animation: none\r\n      }\r\n\r\n      .github-corner .octo-arm {\r\n        animation: octocat-wave 560ms ease-in-out\r\n      }\r\n    }</style>\r\n    <div class=\"mr-auto ml-2 ml-lg-0\">\r\n    <a class=\"navbar-brand\" href=\"https://github.com/dhilt/ngx-ui-scroll\">ngx-ui-scroll</a>\r\n    <a class=\"navbar-link\" routerLink=\"/\">Common</a>\r\n    <a class=\"navbar-link\" routerLink=\"/adapter\">Adapter</a>\r\n  </div>\r\n    <br>\r\n    <span class=\"copyrights\">\r\n      2018 &copy; <a href=\"https://github.com/dhilt\">dhilt</a>, <a href=\"http://www.hill30.com/\">Hill30 Inc</a>\r\n    </span>\r\n  </div>\r\n</nav>\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-nav',\r\n  templateUrl: './nav.component.html'\r\n})\r\nexport class NavComponent {\r\n\r\n  constructor() {\r\n  }\r\n\r\n}\r\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","export { UiScrollModule } from './src/ui-scroll.module';\nexport { Datasource as IDatasource } from './src/component/interfaces/datasource';\nexport { Datasource } from './src/component/classes/datasource';\n","import { BehaviorSubject, Observable, Observer, of as observableOf } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\n\r\nimport { Adapter as IAdapter, Process, ProcessSubject, ItemAdapter } from '../interfaces/index';\r\nimport { Scroller } from '../scroller';\r\nimport { Item } from './item';\r\n\r\nconst getIsInitialized = (adapter: Adapter): Observable<boolean> =>\r\n  Observable.create((observer: Observer<boolean>) => {\r\n    const intervalId = setInterval(() => {\r\n      if (adapter && adapter.init) {\r\n        clearInterval(intervalId);\r\n        observer.next(true);\r\n        observer.complete();\r\n      }\r\n    }, 25);\r\n  });\r\n\r\nconst getInitializedSubject = (adapter: Adapter, method: Function): BehaviorSubject<any> => {\r\n  return adapter.init ? method() :\r\n    adapter.init$\r\n      .pipe(switchMap(() =>\r\n        method()\r\n      ));\r\n};\r\n\r\nexport const generateMockAdapter = (): IAdapter => (\r\n  <IAdapter> {\r\n    version: null,\r\n    init: false,\r\n    init$: observableOf(false),\r\n    isLoading: false,\r\n    isLoading$: new BehaviorSubject<boolean>(false),\r\n    firstVisible: {},\r\n    firstVisible$: new BehaviorSubject<ItemAdapter>({}),\r\n    lastVisible: {},\r\n    lastVisible$: new BehaviorSubject<ItemAdapter>({}),\r\n    itemsCount: 0,\r\n    reload: () => null\r\n  }\r\n);\r\n\r\nexport class Adapter implements IAdapter {\r\n\r\n  get init(): boolean {\r\n    return this.isInitialized;\r\n  }\r\n\r\n  get init$(): Observable<boolean> {\r\n    return getIsInitialized(this);\r\n  }\r\n\r\n  get version(): string | null {\r\n    return this.isInitialized ? this.getVersion() : null;\r\n  }\r\n\r\n  get isLoading(): boolean {\r\n    return this.isInitialized ? this.getIsLoading() : false;\r\n  }\r\n\r\n  get isLoading$(): BehaviorSubject<boolean> {\r\n    return getInitializedSubject(this, () => this.getIsLoading$());\r\n  }\r\n\r\n  get firstVisible(): ItemAdapter {\r\n    return this.isInitialized ? this.getFirstVisible() : {};\r\n  }\r\n\r\n  get firstVisible$(): BehaviorSubject<ItemAdapter> {\r\n    return getInitializedSubject(this, () => this.getFirstVisible$());\r\n  }\r\n\r\n  get lastVisible(): ItemAdapter {\r\n    return this.isInitialized ? this.getLastVisible() : {};\r\n  }\r\n\r\n  get lastVisible$(): BehaviorSubject<ItemAdapter> {\r\n    return getInitializedSubject(this, () => this.getLastVisible$());\r\n  }\r\n\r\n  get itemsCount(): number {\r\n    return this.getItemsCount();\r\n  }\r\n\r\n  private isInitialized: boolean;\r\n  private callWorkflow: Function;\r\n  private getVersion: Function;\r\n  private getIsLoading: Function;\r\n  private getIsLoading$: Function;\r\n  private getFirstVisible: Function;\r\n  private getFirstVisible$: Function;\r\n  private getLastVisible: Function;\r\n  private getLastVisible$: Function;\r\n  private getItemsCount: Function;\r\n\r\n  constructor() {\r\n    this.isInitialized = false;\r\n  }\r\n\r\n  initialize(scroller: Scroller) {\r\n    if (!this.isInitialized) {\r\n      this.isInitialized = true;\r\n      this.callWorkflow = scroller.callWorkflow;\r\n      this.getVersion = (): string | null => scroller.version;\r\n      this.getIsLoading = (): boolean => scroller.state.pendingSource.getValue();\r\n      this.getIsLoading$ = (): BehaviorSubject<boolean> => scroller.state.pendingSource;\r\n      this.getFirstVisible = (): ItemAdapter => scroller.state.firstVisibleSource.getValue();\r\n      this.getFirstVisible$ = (): BehaviorSubject<ItemAdapter> => scroller.state.firstVisibleSource;\r\n      this.getLastVisible = (): ItemAdapter => scroller.state.lastVisibleSource.getValue();\r\n      this.getLastVisible$ = (): BehaviorSubject<ItemAdapter> => scroller.state.lastVisibleSource;\r\n      this.getItemsCount = (): number =>\r\n        scroller.buffer.items.reduce((acc: number, item: Item) => acc + (item.invisible ? 0 : 1), 0);\r\n    }\r\n  }\r\n\r\n  reload(reloadIndex?: number | string) {\r\n    this.callWorkflow(<ProcessSubject>{\r\n      process: Process.reload,\r\n      status: 'start',\r\n      payload: reloadIndex\r\n    });\r\n  }\r\n}\r\n","import { BehaviorSubject } from 'rxjs';\n\nimport { Direction } from '../interfaces/index';\nimport { Cache } from './cache';\nimport { Item } from './item';\n\nexport class Index {\n  forward: number | null;\n  backward: number | null;\n\n  constructor() {\n    this.reset();\n  }\n\n  reset() {\n    this.backward = null;\n    this.forward = null;\n  }\n}\n\nexport class Buffer {\n\n  private _items: Array<Item>;\n  public $items: BehaviorSubject<any>;\n\n  bof: boolean;\n  eof: boolean;\n  lastIndex: Index;\n  cache: Cache;\n\n  constructor() {\n    this.$items = new BehaviorSubject(null);\n    this.lastIndex = new Index();\n    this.cache = new Cache();\n    this.reset();\n  }\n\n  reset(reload?: boolean) {\n    if (reload) {\n      this.items.forEach(item => {\n        if (item.element) {\n          this.cache.add(item);\n          item.hide();\n        }\n      });\n    }\n    this.items = [];\n    this.bof = false;\n    this.eof = false;\n    this.lastIndex.reset();\n  }\n\n  set items(items: Array<Item>) {\n    this._items = items;\n    if (items.length) {\n      this.setLastIndices();\n    }\n    this.$items.next(items);\n  }\n\n  get items(): Array<Item> {\n    return this._items;\n  }\n\n  get size(): number {\n    return this._items.length;\n  }\n\n  setLastIndices() {\n    this.lastIndex[Direction.backward] = this.items[0].$index;\n    this.lastIndex[Direction.forward] = this.items[this.items.length - 1].$index;\n  }\n\n  getFirstVisibleItemIndex(): number {\n    const length = this.items.length;\n    for (let i = 0; i < length; i++) {\n      if (!this.items[i].invisible) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  getLastVisibleItemIndex(): number {\n    for (let i = this.items.length - 1; i >= 0; i--) {\n      if (!this.items[i].invisible) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  getEdgeVisibleItemIndex(direction: Direction, opposite?: boolean): number {\n    return direction === (!opposite ? Direction.forward : Direction.backward) ?\n      this.getLastVisibleItemIndex() : this.getFirstVisibleItemIndex();\n  }\n\n  getFirstVisibleItem(): Item | undefined {\n    const index = this.getFirstVisibleItemIndex();\n    if (index >= 0) {\n      return this.items[index];\n    }\n  }\n\n  getLastVisibleItem(): Item | undefined {\n    const index = this.getLastVisibleItemIndex();\n    if (index >= 0) {\n      return this.items[index];\n    }\n  }\n\n  getEdgeVisibleItem(direction: Direction, opposite?: boolean): Item | undefined {\n    return direction === (!opposite ? Direction.forward : Direction.backward) ?\n      this.getLastVisibleItem() : this.getFirstVisibleItem();\n  }\n\n}\n","import { Item } from './item';\n\nexport class ItemCache {\n  $index: number;\n  nodeId: string;\n  data: any; // todo: cache data only if it is permitted by settings\n\n  params: ClientRect;\n\n  constructor(item: Item) {\n    this.$index = item.$index;\n    this.nodeId = item.nodeId;\n    this.data = item.data;\n    this.params = item.getParams();\n  }\n}\n\nexport class Cache {\n  items: Array<ItemCache>;\n\n  constructor() {\n    this.items = [];\n  }\n\n  add(item: Item) {\n    const found = this.items.find(i => i.$index === item.$index);\n    if (found) {\n      found.data = item.data;\n      found.params = item.getParams();\n    } else {\n      // todo: do we need the list to be sorted? maybe an object?\n      this.items.push(new ItemCache(item));\n    }\n  }\n\n  get(index: number): ItemCache | undefined {\n    return this.items.find(i => i.$index === index);\n  }\n}\n","export class ClipByDirection {\r\n  shouldClip: boolean;\r\n  size: number | null;\r\n  items: number | null;\r\n\r\n  constructor() {\r\n    this.reset();\r\n  }\r\n\r\n  reset() {\r\n    this.shouldClip = false;\r\n    this.size = null;\r\n    this.items = null;\r\n  }\r\n}\r\n\r\nexport class ClipModel {\r\n  forward: ClipByDirection;\r\n  backward: ClipByDirection;\r\n\r\n  constructor() {\r\n    this.forward = new ClipByDirection();\r\n    this.backward = new ClipByDirection();\r\n    this.reset();\r\n  }\r\n\r\n  reset() {\r\n    this.backward.reset();\r\n    this.forward.reset();\r\n  }\r\n\r\n  get shouldClip(): boolean {\r\n    return this.forward.shouldClip || this.backward.shouldClip;\r\n  }\r\n}\r\n","import { Datasource as IDatasource, DatasourceGet, DevSettings, Settings } from '../interfaces/index';\r\nimport { Adapter, generateMockAdapter } from './adapter';\r\n\r\nexport class Datasource implements IDatasource {\r\n  readonly constructed: boolean;\r\n  get: DatasourceGet;\r\n  settings?: Settings;\r\n  devSettings?: DevSettings;\r\n  adapter: Adapter;\r\n\r\n  constructor(datasource: IDatasource, hasNoAdapter?: boolean) {\r\n    this.constructed = true;\r\n    Object.assign(<any>this, datasource);\r\n    if (hasNoAdapter) {\r\n      this.adapter = <Adapter>generateMockAdapter();\r\n    } else {\r\n      this.adapter = new Adapter();\r\n    }\r\n  }\r\n}\r\n","import { Direction } from '../interfaces/direction';\nimport { Settings } from './settings';\n\nexport class Routines {\n\n  readonly horizontal: boolean;\n\n  constructor(settings: Settings) {\n    this.horizontal = settings.horizontal;\n  }\n\n  getScrollPosition(element: HTMLElement): number {\n    return element[this.horizontal ? 'scrollLeft' : 'scrollTop'];\n  }\n\n  setScrollPosition(element: HTMLElement, value: number) {\n    element[this.horizontal ? 'scrollLeft' : 'scrollTop'] = value;\n  }\n\n  static getWindowParam(horizontal?: boolean): number {\n    const innerParam = horizontal ? 'innerWidth' : 'innerHeight';\n    const clientParam = horizontal ? 'clientWidth' : 'clientHeight';\n    return window[innerParam] && document.documentElement[clientParam] ?\n      Math.min(window[innerParam], document.documentElement[clientParam]) :\n      window[innerParam] ||\n      document.documentElement[clientParam] ||\n      document.getElementsByTagName('body')[0][clientParam];\n  }\n\n  static getWindowParams(): ClientRect {\n    const width = Routines.getWindowParam(true);\n    const height = Routines.getWindowParam(false);\n    return <ClientRect>{\n      'height': height,\n      'width': width,\n      'top': 0,\n      'bottom': height,\n      'left': 0,\n      'right': width\n    };\n  }\n\n  getParams(element: HTMLElement): ClientRect {\n    return element.tagName.toLowerCase() === 'body' ?\n      Routines.getWindowParams() :\n      element.getBoundingClientRect();\n  }\n\n  getSize(element: HTMLElement): number {\n    return this.getParams(element)[this.horizontal ? 'width' : 'height'];\n  }\n\n  getSizeStyle(element: HTMLElement): number {\n    const size = element.style[this.horizontal ? 'width' : 'height'];\n    return parseInt(<string>size, 10) || 0;\n  }\n\n  setSizeStyle(element: HTMLElement, value: number) {\n    element.style[this.horizontal ? 'width' : 'height'] = `${value}px`;\n  }\n\n  getRectEdge(params: ClientRect, direction: Direction, opposite?: boolean): number {\n    const forward = !opposite ? Direction.forward : Direction.backward;\n    return params[direction === forward ? (this.horizontal ? 'right' : 'bottom') : (this.horizontal ? 'left' : 'top')];\n  }\n\n  getEdge(element: HTMLElement, direction: Direction, opposite?: boolean): number {\n    const params = this.getParams(element);\n    return this.getRectEdge(params, direction, opposite);\n  }\n\n  getEdge2(element: HTMLElement, direction: Direction, relativeElement: HTMLElement, opposite: boolean): number {\n    // vertical only ?\n    return element.offsetTop - (relativeElement ? relativeElement.scrollTop : 0) +\n      (direction === (!opposite ? Direction.forward : Direction.backward) ? this.getSize(element) : 0);\n  }\n\n  hideElement(element: HTMLElement) {\n    element.style.display = 'none';\n  }\n\n}\n","import { Item } from './item';\n\nexport class FetchByDirection {\n  shouldFetch: boolean;\n  startIndex: number | null;\n  private _newItemsData: Array<any> | null;\n  items: Array<Item> | null;\n  count: number;\n\n  constructor() {\n    this.count = 0;\n    this.reset();\n  }\n\n  reset() {\n    const count = this.count;\n    this.shouldFetch = false;\n    this.startIndex = null;\n    this._newItemsData = null;\n    this.items = null;\n    this.count = count;\n  }\n\n  set newItemsData(items: Array<Item> | null) {\n    this._newItemsData = items;\n    this.count++;\n  }\n\n  get newItemsData(): Array<Item> | null {\n    return this._newItemsData;\n  }\n}\n\nexport class FetchModel {\n  forward: FetchByDirection;\n  backward: FetchByDirection;\n\n  constructor() {\n    this.forward = new FetchByDirection();\n    this.backward = new FetchByDirection();\n  }\n\n  reset() {\n    this.forward.reset();\n    this.backward.reset();\n  }\n\n  get count(): number {\n    return this.backward.count + this.forward.count;\n  }\n\n  get items(): Array<Item> {\n    return [\n      ...this.backward.items ? this.backward.items : [],\n      ...this.forward.items ? this.forward.items : [],\n    ];\n  }\n\n  get shouldFetch(): boolean {\n    return this.forward.shouldFetch || this.backward.shouldFetch;\n  }\n\n  get hasNewItems(): boolean {\n    return !!(\n      (this.forward.newItemsData && this.forward.newItemsData.length) ||\n      (this.backward.newItemsData && this.backward.newItemsData.length)\n    );\n  }\n}\n","import { Direction } from '../interfaces/direction';\nimport { Routines } from './domRoutines';\n\nexport class Item {\n  $index: number;\n  data: any;\n  nodeId: string;\n  routines: Routines;\n\n  element: HTMLElement;\n  invisible: boolean;\n  toRemove: boolean;\n\n  constructor($index: number, data: any, nodeId: string, routines: Routines) {\n    this.$index = $index;\n    this.data = data;\n    this.nodeId = nodeId;\n    this.routines = routines;\n    this.invisible = true;\n  }\n\n  getParams() {\n    return this.routines.getParams(this.element);\n  }\n\n  getEdge(direction: Direction): number {\n    return this.routines.getEdge(this.element, direction, false);\n  }\n\n  hide() {\n    this.routines.hideElement(this.element);\n  }\n\n}\n","import { Direction } from '../interfaces/direction';\r\nimport { Routines } from './domRoutines';\r\n\r\nexport class Padding {\r\n\r\n  element: HTMLElement;\r\n  direction: Direction;\r\n  routines: Routines;\r\n\r\n  constructor(element: HTMLElement, direction: Direction, routines: Routines, initialSize?: number) {\r\n    this.element = <HTMLElement>element.querySelector(`[data-padding-${direction}]`);\r\n    this.direction = direction;\r\n    this.routines = routines;\r\n    if (initialSize) {\r\n      this.routines.setSizeStyle(this.element, initialSize);\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.size = 0;\r\n  }\r\n\r\n  get size(): number {\r\n    return this.routines.getSizeStyle(this.element);\r\n  }\r\n\r\n  set size(value: number) {\r\n    this.routines.setSizeStyle(this.element, Math.round(value));\r\n  }\r\n\r\n  getEdge(opposite = true): number {\r\n    return this.routines.getEdge(this.element, this.direction, opposite);\r\n  }\r\n\r\n}\r\n","import { filter } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { Workflow } from '../workflow';\r\nimport { Process, ProcessSubject } from '../interfaces/index';\r\n\r\nexport class ScrollHelper {\r\n\r\n  readonly workflow: Workflow;\r\n  private lastScrollTime: number;\r\n  private scrollTimer: number | null;\r\n  private lastScrollPosition: number;\r\n  private endSubscription: Subscription | null;\r\n\r\n  constructor(workflow: Workflow) {\r\n    this.workflow = workflow;\r\n    this.lastScrollTime = 0;\r\n    this.scrollTimer = null;\r\n    this.endSubscription = null;\r\n  }\r\n\r\n  run() {\r\n    const viewport = this.workflow.scroller.viewport;\r\n    if (viewport.syntheticScrollPosition === viewport.scrollPosition) {\r\n      const ssp = viewport.scrollPosition;\r\n      setTimeout(() => {\r\n        if (ssp === viewport.scrollPosition) {\r\n          viewport.syntheticScrollPosition = null;\r\n        }\r\n      });\r\n      return;\r\n    }\r\n    if (this.workflow.scroller.state.pending) {\r\n      if (!this.endSubscription) {\r\n        this.endSubscription = this.workflow.process$.pipe(\r\n          filter((data: ProcessSubject) => data.process === Process.end && data.status === 'done')\r\n        ).subscribe(() => {\r\n          if (this.endSubscription) {\r\n            this.endSubscription.unsubscribe();\r\n          }\r\n          this.endSubscription = null;\r\n          this.run();\r\n        });\r\n      }\r\n      return;\r\n    }\r\n    this.throttledScroll();\r\n  }\r\n\r\n  throttledScroll() {\r\n    const scroller = this.workflow.scroller;\r\n    const diff = this.lastScrollTime + scroller.settings.throttle - Date.now();\r\n    if (this.scrollTimer) {\r\n      clearTimeout(this.scrollTimer);\r\n      this.scrollTimer = null;\r\n    }\r\n    if (diff < 0) {\r\n      this.lastScrollTime = Date.now();\r\n      this.lastScrollPosition = scroller.viewport.scrollPosition;\r\n      this.processScroll();\r\n    } else {\r\n      this.scrollTimer = <any>setTimeout(() => {\r\n        this.run();\r\n        this.scrollTimer = null;\r\n      }, diff);\r\n    }\r\n  }\r\n\r\n  purgeProcesses() {\r\n    if (this.endSubscription) {\r\n      this.endSubscription.unsubscribe();\r\n      this.endSubscription = null;\r\n    }\r\n    if (this.scrollTimer) {\r\n      clearTimeout(this.scrollTimer);\r\n      this.scrollTimer = null;\r\n    }\r\n  }\r\n\r\n  processScroll() {\r\n    this.purgeProcesses();\r\n    this.workflow.callWorkflow(<ProcessSubject>{\r\n      process: Process.scroll,\r\n      status: 'next'\r\n    });\r\n  }\r\n}\r\n","import { Settings as ISettings, DevSettings as IDevSettings } from '../interfaces/index';\nimport { assignSettings } from '../utils/index';\n\nexport const defaultSettings: ISettings = {\n  adapter: false,\n  startIndex: 1,\n  bufferSize: 5,\n  padding: 0.5,\n  infinite: false,\n  horizontal: false,\n  windowViewport: false\n};\n\nexport const minSettings: ISettings = {\n  bufferSize: 1,\n  padding: 0.01\n};\n\nexport const defaultDevSettings: IDevSettings = {\n  debug: false, // logging is enabled if true; need to turn off in release\n  immediateLog: true, // logging is not immediate if false, it could be forced via Workflow.logForce call\n  clipAfterFetchOnly: true,\n  clipAfterScrollOnly: true,\n  paddingForwardSize: 0,\n  paddingBackwardSize: 0,\n  throttle: 40\n};\n\nexport class Settings implements ISettings {\n\n  // user settings\n  adapter: boolean;\n  startIndex: number;\n  bufferSize: number;\n  padding: number;\n  infinite: boolean;\n  horizontal: boolean;\n  windowViewport: boolean;\n\n  // development settings\n  debug: boolean;\n  immediateLog: boolean;\n  clipAfterFetchOnly: boolean;\n  clipAfterScrollOnly: boolean;\n  paddingForwardSize: number;\n  paddingBackwardSize: number;\n  throttle: number;\n\n  // internal settings, managed by scroller itself\n  currentStartIndex: number;\n  instanceIndex: number;\n\n  constructor(\n    settings: ISettings | undefined, devSettings: IDevSettings | undefined, instanceIndex: number\n  ) {\n    assignSettings(this, settings || {}, defaultSettings || {}, minSettings);\n    Object.assign(this, defaultDevSettings, devSettings);\n    this.currentStartIndex = this.startIndex;\n    this.instanceIndex = instanceIndex;\n  }\n\n  setCurrentStartIndex(startIndex: any) {\n    startIndex = Number(startIndex);\n    this.currentStartIndex = !isNaN(startIndex) ? startIndex : this.startIndex;\n  }\n}\n","import { BehaviorSubject } from 'rxjs';\r\n\r\nimport { Direction, State as IState, Process, PreviousClip, Run, ItemAdapter } from '../interfaces/index';\r\nimport { FetchModel } from './fetch';\r\nimport { ClipModel } from './clip';\r\n\r\nexport class State implements IState {\r\n  process: Process;\r\n  wfCycleCount: number;\r\n  cycleCount: number;\r\n  countDone: number;\r\n  direction: Direction;\r\n  scroll: boolean;\r\n  fetch: FetchModel;\r\n  clip: ClipModel;\r\n  previousClip: PreviousClip;\r\n  isInitial: boolean;\r\n\r\n  pendingSource: BehaviorSubject<boolean>;\r\n  firstVisibleSource: BehaviorSubject<ItemAdapter>;\r\n  lastVisibleSource: BehaviorSubject<ItemAdapter>;\r\n\r\n  get pending(): boolean {\r\n    return this.pendingSource.getValue();\r\n  }\r\n\r\n  set pending(value: boolean) {\r\n    if (this.pending !== value) {\r\n      this.pendingSource.next(value);\r\n    }\r\n  }\r\n\r\n  get firstVisibleItem(): ItemAdapter {\r\n    return this.firstVisibleSource.getValue();\r\n  }\r\n\r\n  set firstVisibleItem(item: ItemAdapter) {\r\n    if (this.firstVisibleItem.$index !== item.$index) {\r\n      this.firstVisibleSource.next(item);\r\n    }\r\n  }\r\n\r\n  get lastVisibleItem(): ItemAdapter {\r\n    return this.lastVisibleSource.getValue();\r\n  }\r\n\r\n  set lastVisibleItem(item: ItemAdapter) {\r\n    if (this.lastVisibleItem.$index !== item.$index) {\r\n      this.lastVisibleSource.next(item);\r\n    }\r\n  }\r\n\r\n  constructor() {\r\n    this.isInitial = false;\r\n    this.wfCycleCount = 1;\r\n    this.cycleCount = 0;\r\n    this.countDone = 0;\r\n    this.fetch = new FetchModel();\r\n    this.clip = new ClipModel();\r\n    this.setPreviousClip(true);\r\n    this.pendingSource = new BehaviorSubject<boolean>(false);\r\n    this.firstVisibleSource = new BehaviorSubject<ItemAdapter>({});\r\n    this.lastVisibleSource = new BehaviorSubject<ItemAdapter>({});\r\n  }\r\n\r\n  startCycle(options: Run = {}) {\r\n    this.pending = true;\r\n    this.cycleCount++;\r\n\r\n    this.process = Process.start;\r\n    this.direction = options.direction || Direction.forward;\r\n    this.scroll = options.scroll || false;\r\n    this.fetch.reset();\r\n    this.clip.reset();\r\n  }\r\n\r\n  endCycle() {\r\n    this.pending = false;\r\n    this.countDone++;\r\n  }\r\n\r\n  setPreviousClip(reset?: boolean) {\r\n    this.previousClip = {\r\n      isSet: !reset,\r\n      backwardSize: this.clip.backward.size,\r\n      forwardSize: this.clip.forward.size,\r\n      backwardItems: this.clip.backward.items,\r\n      forwardItems: this.clip.forward.items,\r\n      direction: this.direction\r\n    };\r\n  }\r\n\r\n  getStartIndex(): number | null {\r\n    return this.fetch[this.direction].startIndex;\r\n  }\r\n\r\n}\r\n","import { ElementRef } from '@angular/core';\n\nimport { Padding } from './padding';\nimport { Direction } from '../interfaces/index';\nimport { Routines } from './domRoutines';\nimport { Settings } from './settings';\n\nexport class ViewportPadding {\n  forward: Padding;\n  backward: Padding;\n\n  constructor(element: HTMLElement, routines: Routines, settings: Settings) {\n    this.forward = new Padding(element, Direction.forward, routines, settings.paddingForwardSize);\n    this.backward = new Padding(element, Direction.backward, routines, settings.paddingBackwardSize);\n  }\n\n  reset() {\n    this.forward.reset();\n    this.backward.reset();\n  }\n}\n\nexport class Viewport {\n\n  padding: ViewportPadding;\n  syntheticScrollPosition: number | null;\n\n  readonly element: HTMLElement;\n  readonly host: HTMLElement;\n  readonly scrollable: HTMLElement;\n  readonly routines: Routines;\n  private settings: Settings;\n\n  constructor(elementRef: ElementRef, settings: Settings, routines: Routines) {\n    this.settings = settings;\n    this.routines = routines;\n    this.element = elementRef.nativeElement;\n    this.padding = new ViewportPadding(this.element, this.routines, settings);\n    this.syntheticScrollPosition = null;\n\n    if (settings.windowViewport) {\n      this.host = this.element.ownerDocument.body;\n      this.scrollable = <HTMLElement>this.element.ownerDocument.documentElement;\n    } else {\n      this.host = <HTMLElement>this.element.parentElement;\n      this.scrollable = <HTMLElement>this.element.parentElement;\n    }\n  }\n\n  reset() {\n    this.scrollPosition = 0;\n    this.syntheticScrollPosition = null;\n    this.padding.reset();\n  }\n\n  get scrollEventElement() {\n    return this.settings.windowViewport ? this.element.ownerDocument : this.host;\n  }\n\n  get children(): HTMLCollection {\n    return this.element.children;\n  }\n\n  get scrollPosition(): number {\n    return this.routines.getScrollPosition(this.scrollable);\n  }\n\n  set scrollPosition(value: number) {\n    this.routines.setScrollPosition(this.scrollable, value);\n    this.syntheticScrollPosition = this.scrollPosition;\n  }\n\n  getSize(): number {\n    return this.routines.getSize(this.host);\n  }\n\n  getBufferPadding(): number {\n    return this.getSize() * this.settings.padding;\n  }\n\n  getEdge(direction: Direction, opposite?: boolean): number {\n    return this.routines.getEdge(this.host, direction, opposite);\n  }\n\n  getElementEdge(element: HTMLElement, direction: Direction, opposite?: boolean): number {\n    return this.routines.getEdge(element, direction, opposite);\n  }\n\n  getLimit(direction: Direction, opposite?: boolean): number {\n    return this.getEdge(direction, opposite) +\n      (direction === (!opposite ? Direction.forward : Direction.backward) ? 1 : -1) * this.getBufferPadding();\n  }\n\n  isElementVisible(element: HTMLElement): boolean {\n    const elementEdge = this.routines.getEdge(element, Direction.forward);\n    const viewportEdge = this.getEdge(Direction.backward);\n    return elementEdge > viewportEdge;\n  }\n\n}\n","export enum Direction {\n  forward = 'forward',\n  backward = 'backward'\n}\n","import { Datasource, DatasourceGet } from './datasource';\nimport { ItemAdapter, Adapter } from './adapter';\nimport { Settings, DevSettings } from './settings';\nimport { Direction } from './direction';\nimport { Run } from './run';\nimport { State, PreviousClip } from './state';\nimport { Process, ProcessSubject } from './process';\n\nexport {\n  Datasource,\n  DatasourceGet,\n  Direction,\n  Settings,\n  DevSettings,\n  Run,\n  Process,\n  ProcessSubject,\n  State,\n  PreviousClip,\n  ItemAdapter,\n  Adapter\n};\n","export enum Process {\r\n  init = 'init',\r\n  scroll = 'scroll',\r\n  reload = 'reload',\r\n  start = 'start',\r\n  preFetch = 'preFetch',\r\n  fetch = 'fetch',\r\n  postFetch = 'postFetch',\r\n  render = 'render',\r\n  postRender = 'postRender',\r\n  preClip = 'preClip',\r\n  clip = 'clip',\r\n  end = 'end'\r\n}\r\n\r\nexport interface ProcessSubject {\r\n  process: Process;\r\n  status: string;\r\n  payload?: string | any;\r\n}\r\n","import { Scroller } from '../scroller';\r\nimport { Direction, Process, ProcessSubject } from '../interfaces/index';\r\n\r\nexport default class Clip {\r\n\r\n  static run(scroller: Scroller) {\r\n    scroller.state.process = Process.clip;\r\n\r\n    Clip.runByDirection(Direction.forward, scroller);\r\n    Clip.runByDirection(Direction.backward, scroller);\r\n    Clip.processBuffer(scroller);\r\n\r\n    scroller.cycleSubscriptions.push(\r\n      scroller.bindData().subscribe(() => {\r\n        Clip.processClip(scroller);\r\n        scroller.callWorkflow(<ProcessSubject>{\r\n          process: Process.clip,\r\n          status: 'next'\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  static runByDirection(direction: Direction, scroller: Scroller) {\r\n    if (!scroller.state.clip[direction].shouldClip) {\r\n      return;\r\n    }\r\n    const opposite = direction === Direction.forward ? Direction.backward : Direction.forward;\r\n    scroller.viewport.padding[opposite].size += scroller.state.clip[direction].size || 0;\r\n  }\r\n\r\n  static processBuffer(scroller: Scroller) {\r\n    const clipped: Array<number> = [];\r\n    scroller.buffer.items = scroller.buffer.items.filter(item => {\r\n      if (item.toRemove) {\r\n        scroller.buffer.cache.add(item);\r\n        item.hide();\r\n        clipped.push(item.$index);\r\n        return false;\r\n      }\r\n      return true;\r\n    });\r\n    scroller.log(`clipped ${clipped.length} items`, clipped);\r\n    if (!scroller.buffer.size) {\r\n      scroller.state.setPreviousClip();\r\n    }\r\n  }\r\n\r\n  static processClip(scroller: Scroller) {\r\n    if (!scroller.state.clip[Direction.backward].shouldClip) {\r\n      scroller.buffer.bof = false;\r\n    }\r\n    if (!scroller.state.clip[Direction.forward].shouldClip) {\r\n      scroller.buffer.eof = false;\r\n    }\r\n  }\r\n\r\n}\r\n","import { Scroller } from '../scroller';\nimport { Direction, Process, ProcessSubject, Run } from '../interfaces/index';\n\nexport default class End {\n\n  static run(scroller: Scroller, isFail?: boolean) {\n    scroller.state.endCycle();\n    if (scroller.datasource.adapter.init) {\n      End.calculateParams(scroller);\n    }\n    scroller.purgeCycleSubscriptions();\n    scroller.finalize();\n\n    let next: Run | null = null;\n    const logData = `${scroller.settings.instanceIndex}-${scroller.state.wfCycleCount}-${scroller.state.cycleCount}`;\n    if (isFail) {\n      scroller.log(`%c---=== Workflow ${logData} fail`, 'color: #006600;');\n    } else {\n      scroller.log(`%c---=== Workflow ${logData} done`, 'color: #006600;');\n      next = End.getNextRun(scroller);\n    }\n\n    scroller.callWorkflow(<ProcessSubject>{\n      process: Process.end,\n      status: next ? 'next' : 'done',\n      payload: next\n    });\n  }\n\n  static calculateParams(scroller: Scroller) {\n    const items = scroller.buffer.items;\n    const length = items.length;\n    const viewportBackwardEdge = scroller.viewport.getEdge(Direction.backward);\n    const viewportForwardEdge = scroller.viewport.getEdge(Direction.forward);\n    let index = null;\n    for (let i = 0; i < length; i++) {\n      const edge = scroller.viewport.getElementEdge(items[i].element, Direction.backward, true);\n      if (edge > viewportBackwardEdge) {\n        index = i;\n        break;\n      }\n    }\n    scroller.state.firstVisibleItem = index !== null ? {\n      $index: items[index].$index,\n      data: items[index].data,\n      element: items[index].element\n    } : {};\n\n    index = null;\n    for (let i = length - 1; i >= 0; i--) {\n      const edge = scroller.viewport.getElementEdge(items[i].element, Direction.forward, true);\n      if (edge < viewportForwardEdge) {\n        index = i;\n        break;\n      }\n    }\n    scroller.state.lastVisibleItem = index !== null ? {\n      $index: items[index].$index,\n      data: items[index].data,\n      element: items[index].element\n    } : {};\n  }\n\n  static getNextRun(scroller: Scroller): Run | null {\n    let nextRun: Run | null = null;\n    if (scroller.state.fetch.hasNewItems || scroller.state.clip.shouldClip) {\n      nextRun = {\n        direction: scroller.state.direction,\n        scroll: scroller.state.scroll\n      };\n    } else if (!scroller.buffer.size && scroller.state.fetch.shouldFetch && !scroller.state.fetch.hasNewItems) {\n      nextRun = {\n        direction: scroller.state.direction === Direction.forward ? Direction.backward : Direction.forward,\n        scroll: false\n      };\n    } else if (scroller.state.isInitial) {\n      scroller.state.isInitial = false;\n      nextRun = {\n        direction: Direction.backward,\n        scroll: scroller.state.scroll || false\n      };\n    }\n    return nextRun;\n  }\n}\n","import { Observable, Observer } from 'rxjs';\n\nimport { Scroller } from '../scroller';\nimport { Process, ProcessSubject } from '../interfaces/index';\n\nexport default class Fetch {\n\n  static run(scroller: Scroller) {\n    scroller.state.process = Process.fetch;\n\n    const result = Fetch.get(scroller);\n    if (typeof result.subscribe !== 'function') {\n      if (!result.isError) {\n        Fetch.success(result.data, scroller);\n      } else {\n        Fetch.fail(result.error, scroller);\n      }\n    } else {\n      scroller.cycleSubscriptions.push(\n        result.subscribe(\n          (data: Array<any>) => Fetch.success(data, scroller),\n          (error: any) => Fetch.fail(error, scroller)\n        )\n      );\n    }\n  }\n\n  static success(data: Array<any>, scroller: Scroller) {\n    const direction = scroller.state.direction;\n    scroller.log(`resolved ${data.length} ${direction} items ` +\n      `(index = ${scroller.state.fetch[direction].startIndex}, count = ${scroller.settings.bufferSize})`);\n    scroller.state.fetch[direction].newItemsData = data;\n\n    scroller.callWorkflow(<ProcessSubject>{\n      process: Process.fetch,\n      status: 'next'\n    });\n  }\n\n  static fail(error: any, scroller: Scroller) {\n    scroller.callWorkflow(<ProcessSubject>{\n      process: Process.fetch,\n      status: 'error',\n      payload: error\n    });\n  }\n\n  static get(scroller: Scroller) {\n    const _get = <Function>scroller.datasource.get;\n\n    let immediateData, immediateError;\n    let observer: Observer<any>;\n    const success = (data: any) => {\n      if (!observer) {\n        immediateData = data || null;\n        return;\n      }\n      observer.next(data);\n      observer.complete();\n    };\n    const reject = (error: any) => {\n      if (!observer) {\n        immediateError = error || null;\n        return;\n      }\n      observer.error(error);\n    };\n\n    const result = _get(scroller.state.getStartIndex(), scroller.settings.bufferSize, success, reject);\n    if (result && typeof result.then === 'function') { // DatasourceGetPromise\n      result.then(success, reject);\n    } else if (result && typeof result.subscribe === 'function') { // DatasourceGetObservable\n      return result; // do not wrap observable\n    }\n\n    if (immediateData !== undefined || immediateError !== undefined) {\n      return {\n        data: immediateData,\n        error: immediateError,\n        isError: immediateError !== undefined\n      };\n    }\n\n    return Observable.create((_observer: Observer<any>) => {\n      observer = _observer;\n    });\n  }\n\n}\n","import Init from './init';\r\nimport Reload from './reload';\r\nimport Start from './start';\r\nimport PreFetch from './preFetch';\r\nimport Fetch from './fetch';\r\nimport PostFetch from './postFetch';\r\nimport Render from './render';\r\nimport PostRender from './postRender';\r\nimport PreClip from './preClip';\r\nimport Clip from './clip';\r\nimport End from './end';\r\n\r\nexport { Init, Reload, Start, PreFetch, Fetch, PostFetch, Render, PostRender, PreClip, Clip, End };\r\n","import { Scroller } from '../scroller';\nimport { Direction, Process, ProcessSubject, Run } from '../interfaces/index';\n\nexport default class Init {\n\n  static run(scroller: Scroller, isScroll?: boolean) {\n    const logData = `${scroller.settings.instanceIndex}-${scroller.state.wfCycleCount}`;\n    const logStyles = 'color: #0000aa; border: solid black 1px; border-width: 1px 0 0 1px; margin-left: -2px';\n    scroller.log(`%c   ~~~ WF Run ${logData} STARTED ~~~  `, logStyles);\n    scroller.state.isInitial = true;\n    scroller.callWorkflow(<ProcessSubject>{\n      process: Process.init,\n      status: 'next',\n      payload: <Run>{\n        direction: Direction.forward,\n        scroll: !!isScroll\n      }\n    });\n  }\n}\n","import { Scroller } from '../scroller';\nimport { Direction, Process, ProcessSubject } from '../interfaces/index';\nimport { Item } from '../classes/item';\n\nexport default class PostFetch {\n\n  static run(scroller: Scroller) {\n    scroller.state.process = Process.postFetch;\n\n    PostFetch.setEOF(scroller);\n    const hasItems = PostFetch.setItems(scroller);\n    scroller.callWorkflow(<ProcessSubject>{\n      process: Process.postFetch,\n      status: hasItems ? 'next' : 'done'\n    });\n  }\n\n  static setEOF(scroller: Scroller) {\n    const direction = scroller.state.direction;\n    const fetch = scroller.state.fetch[direction];\n    const eof = direction === Direction.forward ? 'eof' : 'bof';\n    const items = <Array<Item>>fetch.newItemsData;\n    scroller.buffer[eof] = items.length !== scroller.settings.bufferSize;\n    if (direction === Direction.backward && scroller.buffer.bof) {\n      fetch.startIndex = <number>fetch.startIndex + scroller.settings.bufferSize - items.length;\n    }\n  }\n\n  static setItems(scroller: Scroller) {\n    const direction = scroller.state.direction;\n    const fetch = scroller.state.fetch[direction];\n    const items = <Array<Item>>fetch.newItemsData;\n    if (!items.length) { // empty result\n      return false;\n    }\n    fetch.items = items.map((item, index) => {\n      const $index = <number>fetch.startIndex + index;\n      const nodeId = String($index);\n      return new Item($index, item, nodeId, scroller.routines);\n    });\n    if (direction === Direction.forward) {\n      scroller.buffer.items = [...scroller.buffer.items, ...fetch.items];\n    } else {\n      scroller.buffer.items = [...fetch.items, ...scroller.buffer.items];\n    }\n    return true;\n  }\n\n}\n","import { Scroller } from '../scroller';\r\nimport { Direction, Process, ProcessSubject } from '../interfaces/index';\r\nimport { Item } from '../classes/item';\r\n\r\nexport default class PostRender {\r\n\r\n  static run(scroller: Scroller) {\r\n    scroller.state.process = Process.postRender;\r\n\r\n    const viewport = scroller.viewport;\r\n    const direction = scroller.state.direction;\r\n    const items = <Array<Item>>scroller.state.fetch[direction].items;\r\n    const position = viewport.scrollPosition;\r\n\r\n    PostRender.processFetchedItems(items);\r\n\r\n    // pre-adjustment, scroll position only\r\n    if (position !== viewport.scrollPosition) {\r\n      viewport.scrollPosition = position;\r\n    }\r\n\r\n    // paddings and scroll position adjustments\r\n    const height = Math.round(\r\n      Math.abs(items[0].getEdge(Direction.backward) - items[items.length - 1].getEdge(Direction.forward))\r\n    );\r\n    let syntheticScrollPosition = null;\r\n    if (direction === Direction.forward) {\r\n      PostRender.runForward(scroller, height);\r\n    } else {\r\n      syntheticScrollPosition = PostRender.runBackward(scroller, height);\r\n    }\r\n\r\n    // post-adjustment, scroll position only\r\n    if (position !== viewport.scrollPosition) {\r\n      if (syntheticScrollPosition !== null) {\r\n        viewport.scrollPosition += viewport.scrollPosition - syntheticScrollPosition;\r\n      } else {\r\n        viewport.scrollPosition = position;\r\n      }\r\n    }\r\n\r\n    scroller.callWorkflow(<ProcessSubject>{\r\n      process: Process.postRender,\r\n      status: 'next'\r\n    });\r\n  }\r\n\r\n  static processFetchedItems(items: Array<Item>) {\r\n    for (let i = items.length - 1; i >= 0; i--) {\r\n      const element = items[i].element;\r\n      element.style.left = '';\r\n      element.style.position = '';\r\n      items[i].invisible = false;\r\n    }\r\n  }\r\n\r\n  static runForward(scroller: Scroller, size: number) {\r\n    const paddingForward = scroller.viewport.padding[Direction.forward];\r\n    const _paddingSize = paddingForward.size || 0;\r\n    paddingForward.size = Math.max(_paddingSize - size, 0);\r\n  }\r\n\r\n  static runBackward(scroller: Scroller, size: number) {\r\n    const viewport = scroller.viewport;\r\n    const _scrollPosition = viewport.scrollPosition;\r\n    const paddingBackward = viewport.padding[Direction.backward];\r\n    const paddingForward = viewport.padding[Direction.forward];\r\n\r\n    // need to make \"size\" pixels in backward direction\r\n    // 1) via paddingTop\r\n    const _paddingSize = paddingBackward.size || 0;\r\n    let paddingSize = Math.max(_paddingSize - size, 0);\r\n    paddingBackward.size = paddingSize;\r\n    const paddingDiff = size - (_paddingSize - paddingSize);\r\n    // 2) via scrollTop\r\n    if (paddingDiff > 0) {\r\n      size = paddingDiff;\r\n      viewport.scrollPosition += size;\r\n      const diff = size - viewport.scrollPosition - _scrollPosition;\r\n      if (diff > 0) {\r\n        paddingSize = paddingForward.size || 0;\r\n        paddingForward.size = paddingSize + diff;\r\n        viewport.scrollPosition += diff;\r\n      }\r\n      return viewport.scrollPosition;\r\n    }\r\n    return null;\r\n  }\r\n\r\n}\r\n","import { Scroller } from '../scroller';\r\nimport { Direction, Process, ProcessSubject } from '../interfaces/index';\r\n\r\nexport default class PreClip {\r\n\r\n  static run(scroller: Scroller) {\r\n    scroller.state.process = Process.preClip;\r\n\r\n    let shouldNotClip =\r\n      scroller.settings.infinite ||\r\n      !scroller.buffer.size ||\r\n      (scroller.settings.clipAfterScrollOnly && !scroller.state.scroll);\r\n\r\n    if (!shouldNotClip) {\r\n      const afterFetch = scroller.settings.clipAfterFetchOnly;\r\n      if (!afterFetch || scroller.state.fetch[Direction.backward].shouldFetch) {\r\n        PreClip.shouldClipByDirection(Direction.backward, scroller);\r\n      }\r\n      if (!afterFetch || scroller.state.fetch[Direction.forward].shouldFetch) {\r\n        PreClip.shouldClipByDirection(Direction.forward, scroller);\r\n      }\r\n      shouldNotClip = !scroller.state.clip.shouldClip;\r\n    }\r\n\r\n    scroller.callWorkflow(<ProcessSubject>{\r\n      process: Process.preClip,\r\n      status: !shouldNotClip ? 'next' : 'done'\r\n    });\r\n  }\r\n\r\n  static shouldClipByDirection(direction: Direction, scroller: Scroller) {\r\n    const items = scroller.buffer.items;\r\n    const forward = direction === Direction.forward;\r\n    const viewport = scroller.viewport;\r\n    const viewportLimit = viewport.getLimit(direction, true);\r\n    const firstIndex = scroller.buffer.getFirstVisibleItemIndex();\r\n    const lastIndex = scroller.buffer.getLastVisibleItemIndex();\r\n    const firstItemEdge = items[firstIndex].getEdge(direction);\r\n    const lastItemEdge = items[lastIndex].getEdge(direction);\r\n\r\n    let i, itemEdge, start = -1, end = -1;\r\n    const getItemEdge = (index: number) =>\r\n      index === firstIndex ? firstItemEdge : (\r\n        index === lastIndex ? lastItemEdge :\r\n          items[index].getEdge(direction));\r\n\r\n    if ((forward && lastItemEdge <= viewportLimit) || (!forward && firstItemEdge >= viewportLimit)) {\r\n      // all items should be clipped\r\n      start = firstIndex;\r\n      end = lastIndex;\r\n    } else {\r\n      if (forward) {\r\n        start = firstIndex;\r\n      } else {\r\n        end = lastIndex;\r\n      }\r\n      for (\r\n        forward ? (i = 0) : (i = lastIndex);\r\n        forward ? (i <= lastIndex) : (i >= 0);\r\n        forward ? i++ : i--\r\n      ) {\r\n        itemEdge = getItemEdge(i);\r\n        if (forward && itemEdge <= viewportLimit) {\r\n          end = i;\r\n        } else if (!forward && itemEdge >= viewportLimit) {\r\n          start = i;\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (start >= 0 && end >= 0) {\r\n      let itemsToRemove = 0;\r\n      for (i = start; i <= end; i++) {\r\n        items[i].toRemove = true;\r\n        itemsToRemove++;\r\n      }\r\n      scroller.state.clip[direction].shouldClip = true;\r\n      scroller.state.clip[direction].size = items[end].getEdge(Direction.forward) - items[start].getEdge(Direction.backward);\r\n      scroller.state.clip[direction].items = itemsToRemove;\r\n    }\r\n  }\r\n\r\n}\r\n","import { Scroller } from '../scroller';\nimport { Direction, Process, ProcessSubject } from '../interfaces/index';\n\nexport default class PreFetch {\n\n  static run(scroller: Scroller) {\n    scroller.state.process = Process.preFetch;\n\n    const direction = scroller.state.direction;\n    const paddingEdge = scroller.viewport.padding[direction].getEdge();\n    const limit = scroller.viewport.getLimit(direction);\n\n    scroller.state.fetch[direction].shouldFetch = PreFetch.checkEOF(scroller) ? false :\n      (direction === Direction.forward) ? paddingEdge < limit : paddingEdge > limit;\n\n    const shouldFetch = scroller.state.fetch[direction].shouldFetch;\n    if (shouldFetch) {\n      PreFetch.setStartIndex(scroller);\n      PreFetch.processPreviousClip(scroller);\n    }\n\n    scroller.callWorkflow(<ProcessSubject>{\n      process: Process.preFetch,\n      status: shouldFetch ? 'next' : 'done'\n    });\n  }\n\n  static checkEOF(scroller: Scroller) {\n    return (scroller.state.direction === Direction.forward && scroller.buffer.eof) ||\n      (scroller.state.direction === Direction.backward && scroller.buffer.bof);\n  }\n\n  static setStartIndex(scroller: Scroller) {\n    const direction = scroller.state.direction;\n    const forward = direction === Direction.forward;\n    const back = -scroller.settings.bufferSize;\n    const lastIndex = scroller.buffer.lastIndex[direction];\n    let start;\n    if (lastIndex === null) {\n      start = scroller.settings.currentStartIndex + (forward ? 0 : back);\n    } else {\n      start = lastIndex + (forward ? 1 : back);\n    }\n    scroller.state.fetch[direction].startIndex = start;\n  }\n\n  static processPreviousClip(scroller: Scroller) {\n    const previousClip = scroller.state.previousClip;\n    if (!previousClip.isSet) {\n      return;\n    }\n    const direction = scroller.state.direction;\n    const forward = direction === Direction.forward;\n    const opposite = forward ? Direction.backward : Direction.forward;\n    const clipSize = (<any>previousClip)[`${opposite}Size`];\n    if (clipSize && previousClip.direction !== scroller.state.direction) {\n      scroller.viewport.padding[direction].size -= clipSize;\n      scroller.viewport.padding[opposite].size += clipSize;\n      if (!forward) {\n        scroller.buffer.lastIndex[opposite] = (scroller.buffer.lastIndex[direction] || 0) - 1;\n      } else {\n        scroller.buffer.lastIndex[direction] = scroller.buffer.lastIndex[opposite];\n      }\n    }\n    scroller.state.setPreviousClip(true);\n  }\n\n}\n","import { Scroller } from '../scroller';\nimport { Process, ProcessSubject } from '../interfaces/index';\n\nexport default class Reload {\n\n  static run(scroller: Scroller, reloadIndex: any) {\n    const scrollPosition = scroller.viewport.scrollPosition;\n    scroller.buffer.reset(true);\n    scroller.viewport.reset();\n    scroller.viewport.syntheticScrollPosition = scrollPosition > 0 ? 0 : null;\n    scroller.purgeCycleSubscriptions();\n    scroller.settings.setCurrentStartIndex(reloadIndex);\n    // todo: do we need to emit Process.end before?\n    scroller.callWorkflow(<ProcessSubject>{\n      process: Process.reload,\n      status: 'next'\n    });\n  }\n}\n","import { Scroller } from '../scroller';\nimport { Process, ProcessSubject } from '../interfaces/index';\n\nexport default class Render {\n\n  static run(scroller: Scroller) {\n    scroller.state.process = Process.render;\n\n    scroller.cycleSubscriptions.push(\n      scroller.bindData().subscribe(() => {\n        if (Render.setElements(scroller)) {\n          scroller.callWorkflow(<ProcessSubject>{\n            process: Process.render,\n            status: 'next'\n          });\n        } else {\n          scroller.callWorkflow(<ProcessSubject>{\n            process: Process.render,\n            status: 'error',\n            payload: 'Can not associate item with element'\n          });\n        }\n      })\n    );\n  }\n\n  static setElements(scroller: Scroller) {\n    const items = scroller.state.fetch.items;\n    for (let j = items.length - 1; j >= 0; j--) {\n      const nodes = scroller.viewport.children;\n      for (let i = nodes.length - 1; i >= 0; i--) {\n        if (nodes[i].getAttribute('data-sid') === items[j].nodeId) {\n          items[j].element = <HTMLElement>nodes[i];\n        }\n      }\n      if (!items[j].element) { // todo: is this situation possible?\n        return false;\n      }\n    }\n    return true;\n  }\n}\n","import { Scroller } from '../scroller';\nimport { Direction, Process, ProcessSubject, Run } from '../interfaces/index';\n\nexport default class Start {\n\n  static run(scroller: Scroller, options: Run = {}) {\n    if (!options.direction) {\n      options.direction = scroller.state.direction || Direction.forward;\n    }\n    scroller.state.startCycle(options);\n    const logData = `${scroller.settings.instanceIndex}-${scroller.state.wfCycleCount}-${scroller.state.cycleCount}`;\n    scroller.log(`%c---=== Workflow ${logData} start`, 'color: #006600;', options);\n    scroller.callWorkflow(<ProcessSubject>{\n      process: Process.start,\n      status: 'next'\n    });\n  }\n}\n","import { Observable, Subscription, Observer } from 'rxjs';\n\nimport { UiScrollComponent } from '../ui-scroll.component';\nimport { checkDatasource } from './utils/index';\nimport { Datasource } from './classes/datasource';\nimport { Settings } from './classes/settings';\nimport { Routines } from './classes/domRoutines';\nimport { Viewport } from './classes/viewport';\nimport { Buffer } from './classes/buffer';\nimport { State } from './classes/state';\nimport { generateMockAdapter } from './classes/adapter';\n\nlet instanceCount = 0;\n\nexport class Scroller {\n\n  readonly _bindData: Function;\n  readonly callWorkflow: Function;\n  private logs: Array<any> = [];\n\n  public version: string;\n  public datasource: Datasource;\n  public settings: Settings;\n  public routines: Routines;\n  public viewport: Viewport;\n  public buffer: Buffer;\n  public state: State;\n\n  public cycleSubscriptions: Array<Subscription>;\n\n  constructor(context: UiScrollComponent, callWorkflow: Function) {\n    const datasource = <Datasource>checkDatasource(context.datasource);\n    this.datasource = datasource;\n    this.version = context.version;\n\n    // this._bindData = () => context.changeDetector.markForCheck();\n    this._bindData = () => context.changeDetector.detectChanges();\n    this.callWorkflow = callWorkflow;\n    this.cycleSubscriptions = [];\n\n    this.settings = new Settings(datasource.settings, datasource.devSettings, ++instanceCount);\n    this.routines = new Routines(this.settings);\n    this.viewport = new Viewport(context.elementRef, this.settings, this.routines);\n    this.buffer = new Buffer();\n    this.state = new State();\n\n    if (!datasource.constructed) {\n      this.datasource = new Datasource(datasource, !this.settings.adapter);\n      if (this.settings.adapter) {\n        this.datasource.adapter.initialize(this);\n      }\n    } else {\n      this.datasource.adapter.initialize(this);\n    }\n  }\n\n  bindData(): Observable<any> {\n    this._bindData();\n    return Observable.create((observer: Observer<any>) => {\n        setTimeout(() => {\n          observer.next(true);\n          observer.complete();\n        });\n      }\n    );\n  }\n\n  purgeCycleSubscriptions() {\n    this.cycleSubscriptions.forEach((item: Subscription) => item.unsubscribe());\n    this.cycleSubscriptions = [];\n  }\n\n  dispose() {\n    this.purgeCycleSubscriptions();\n  }\n\n  finalize() {\n  }\n\n  stat(str?: string) {\n    if (this.settings.debug) {\n      this.log((str ? str + '  ' : '') +\n        'top: ' + this.viewport.scrollPosition + ', ' +\n        'bwd_p: ' + this.viewport.padding.backward.size + ', ' +\n        'fwd_p: ' + this.viewport.padding.forward.size + ', ' +\n        'items: ' + this.buffer.size\n      );\n    }\n  }\n\n  log(...args: Array<any>) {\n    if (this.settings.debug) {\n      if (this.settings.immediateLog) {\n        console.log.apply(this, args);\n      } else {\n        this.logs.push(args);\n      }\n    }\n  }\n\n  logForce(...args: Array<any>) {\n    if (this.settings.debug) {\n      if (!this.settings.immediateLog && this.logs.length) {\n        this.logs.forEach(logArgs => console.log.apply(this, logArgs));\n        this.logs = [];\n      }\n      if (args.length) {\n        console.log.apply(this, args);\n      }\n    }\n  }\n\n}\n","import { Settings as ISettings } from '../interfaces/index';\r\nimport { Settings } from '../classes/settings';\r\n\r\nconst assignBoolean = (\r\n  target: Settings, source: ISettings, token: string, defaults: ISettings\r\n) => {\r\n  const param = (<any>source)[token];\r\n  if (typeof param === 'undefined') {\r\n    return;\r\n  }\r\n  if (typeof param !== 'boolean') {\r\n    console.warn(token + ' setting parse error, set it to ' + (<any>defaults)[token] + ' (default)');\r\n    return;\r\n  }\r\n  (<any>target)[token] = param;\r\n  return true;\r\n};\r\n\r\nconst assignNumeric = (\r\n  target: Settings, source: ISettings, token: string, defaults: ISettings, integer = false\r\n) => {\r\n  const param = (<any>source)[token];\r\n  if (typeof param === 'undefined') {\r\n    return;\r\n  }\r\n  if (typeof param !== 'number') {\r\n    console.warn(token + ' setting parse error, set it to ' + (<any>defaults)[token] + ' (default)');\r\n    return;\r\n  }\r\n  if (integer && parseInt(param.toString(), 10) !== param) {\r\n    console.warn(token + ' setting parse error, set it to ' + (<any>defaults)[token] + ' (default)');\r\n    return;\r\n  }\r\n  (<any>target)[token] = param;\r\n  return true;\r\n};\r\n\r\nconst assignMinimalNumeric = (\r\n  target: Settings, source: ISettings, token: string, defaults: ISettings, minSettings: ISettings, integer = false\r\n) => {\r\n  if (assignNumeric(target, source, token, defaults, integer) !== true) {\r\n    return;\r\n  }\r\n  if ((<any>target)[token] < (<any>minSettings)[token]) {\r\n    console.warn(token + ' setting is less than minimum, set it to ' + (<any>minSettings)[token]);\r\n    (<any>target)[token] = (<any>minSettings)[token];\r\n    return;\r\n  }\r\n  return true;\r\n};\r\n\r\nexport const assignSettings = (\r\n  target: Settings, settings: ISettings, defaults: ISettings, minSettings: ISettings\r\n) => {\r\n  Object.assign(target, defaults);\r\n\r\n  if (typeof settings === 'undefined') {\r\n    return;\r\n  }\r\n  if (typeof settings !== 'object') {\r\n    console.warn('settings is not an object, fallback to the defaults');\r\n    return;\r\n  }\r\n\r\n  assignBoolean(target, settings, 'adapter', defaults);\r\n  assignNumeric(target, settings, 'startIndex', defaults);\r\n  assignMinimalNumeric(target, settings, 'bufferSize', defaults, minSettings, true);\r\n  assignMinimalNumeric(target, settings, 'padding', defaults, minSettings);\r\n  assignBoolean(target, settings, 'infinite', defaults);\r\n  assignBoolean(target, settings, 'horizontal', defaults);\r\n  assignBoolean(target, settings, 'windowViewport', defaults);\r\n};\r\n","import { Datasource as IDatasource } from '../interfaces/index';\n\nexport const checkDatasource = (datasource: IDatasource) => {\n  if (!datasource) {\n    throw new Error('No datasource provided');\n  }\n  if (!('get' in datasource)) {\n    throw new Error('Datasource get method is not implemented');\n  }\n  if (typeof datasource.get !== 'function') {\n    throw new Error('Datasource get is not a function');\n  }\n  if (datasource.get.length < 2) {\n    throw new Error('Datasource get method invalid signature');\n  }\n  return datasource;\n};\n","import { checkDatasource } from './checkDatasource';\nimport { assignSettings } from './assignSettings';\n\nexport { checkDatasource, assignSettings };\n","import { Subscription, BehaviorSubject } from 'rxjs';\n\nimport { UiScrollComponent } from '../ui-scroll.component';\nimport { Scroller } from './scroller';\nimport { ScrollHelper } from './classes/scrollHelper';\nimport { Process, ProcessSubject } from './interfaces/index';\nimport {\n  Init, Reload, Start, PreFetch, Fetch, PostFetch, Render, PostRender, PreClip, Clip, End\n} from './processes/index';\n\nexport class Workflow {\n\n  scroller: Scroller;\n  process$: BehaviorSubject<ProcessSubject>;\n  cyclesDone: number;\n\n  readonly context: UiScrollComponent;\n  readonly scrollHelper: ScrollHelper;\n  private onScrollUnsubscribe: Function;\n  private itemsSubscription: Subscription;\n  private workflowSubscription: Subscription;\n\n  constructor(context: UiScrollComponent) {\n    this.context = context;\n    this.scroller = new Scroller(this.context, this.callWorkflow.bind(this));\n    this.scrollHelper = new ScrollHelper(this);\n    this.process$ = new BehaviorSubject(<ProcessSubject>{\n      process: Process.init,\n      status: 'start'\n    });\n    this.cyclesDone = 0;\n    setTimeout(() => this.initListeners());\n    this.scroller.log(`The uiScroll Workflow has been initialized (${this.context.version})`);\n  }\n\n  initListeners() {\n    const scroller = this.scroller;\n    this.itemsSubscription = scroller.buffer.$items.subscribe(items => this.context.items = items);\n    this.workflowSubscription = this.process$.subscribe(this.process.bind(this));\n    this.onScrollUnsubscribe = this.context.renderer.listen(\n      scroller.viewport.scrollEventElement, 'scroll', this.scrollHelper.run.bind(this.scrollHelper)\n    );\n  }\n\n  dispose() {\n    this.scrollHelper.purgeProcesses();\n    this.onScrollUnsubscribe();\n    this.process$.complete();\n    this.workflowSubscription.unsubscribe();\n    this.itemsSubscription.unsubscribe();\n    this.scroller.dispose();\n  }\n\n  callWorkflow(processSubject: ProcessSubject) {\n    this.process$.next(processSubject);\n  }\n\n  process(data: ProcessSubject) {\n    const scroller = this.scroller;\n    const pl = typeof data.payload === 'string' ? ` (${data.payload})` : '';\n    scroller.log(`process ${data.process}, ${data.status + pl}`);\n    if (data.status === 'error') {\n      End.run(scroller, true);\n      return;\n    }\n    switch (data.process) {\n      case Process.init:\n        if (data.status === 'start') {\n          Init.run(scroller);\n        }\n        if (data.status === 'next') {\n          Start.run(scroller, data.payload);\n        }\n        break;\n      case Process.reload:\n        if (data.status === 'start') {\n          Reload.run(scroller, data.payload);\n        }\n        if (data.status === 'next') {\n          Init.run(scroller);\n        }\n        break;\n      case Process.scroll:\n        if (data.status === 'next') {\n          Init.run(scroller, true);\n        }\n        break;\n      case Process.start:\n        if (data.status === 'next') {\n          PreFetch.run(scroller);\n        }\n        break;\n      case Process.preFetch:\n        if (data.status === 'next') {\n          Fetch.run(scroller);\n        }\n        if (data.status === 'done') {\n          End.run(scroller);\n        }\n        break;\n      case Process.fetch:\n        if (data.status === 'next') {\n          PostFetch.run(scroller);\n        }\n        break;\n      case Process.postFetch:\n        if (data.status === 'next') {\n          Render.run(scroller);\n        }\n        if (data.status === 'done') {\n          End.run(scroller);\n        }\n        break;\n      case Process.render:\n        if (data.status === 'next') {\n          PostRender.run(scroller);\n        }\n        break;\n      case Process.postRender:\n        if (data.status === 'next') {\n          PreClip.run(scroller);\n        }\n        break;\n      case Process.preClip:\n        if (data.status === 'next') {\n          Clip.run(scroller);\n        }\n        if (data.status === 'done') {\n          End.run(scroller);\n        }\n        break;\n      case Process.clip:\n        if (data.status === 'next') {\n          End.run(scroller);\n        }\n        break;\n      case Process.end:\n        if (data.status === 'next') {\n          Start.run(scroller, data.payload);\n        }\n        if (data.status === 'done') {\n          this.done();\n        }\n        break;\n    }\n  }\n\n  done() {\n    this.cyclesDone++;\n    this.scroller.state.wfCycleCount = this.cyclesDone + 1;\n    const logData = `${this.scroller.settings.instanceIndex}-${this.cyclesDone}`;\n    const logStyles = 'color: #0000aa; border: solid #555 1px; border-width: 0 0 1px 1px; margin-left: -2px';\n    this.scroller.log(`%c   ~~~ WF Run ${logData} FINALIZED ~~~  `, logStyles);\n    this.finalize();\n  }\n\n  finalize() {\n  }\n\n}\n","<div data-padding-backward></div><div\n  *ngFor=\"let item of items\"\n  [attr.data-sid]=\"item.nodeId\"\n  [style.position]=\"item.invisible ? 'fixed' : null\"\n  [style.left]=\"item.invisible ? '-99999px' : null\"\n><ng-template\n  [ngTemplateOutlet]=\"template\"\n  [ngTemplateOutletContext]=\"{\n    $implicit: item.data,\n    index: item.$index\n }\"\n></ng-template></div><div data-padding-forward></div>","import {\n  Component, OnInit, OnDestroy,\n  TemplateRef, ElementRef, Renderer2,\n  ChangeDetectionStrategy, ChangeDetectorRef\n} from '@angular/core';\n\nimport { Workflow } from './component/workflow';\nimport { Datasource as IDatasource } from './component/interfaces/index';\nimport { Datasource } from './component/classes/datasource';\nimport { Item } from './component/classes/item';\n\n@Component({\n  selector: '[ui-scroll]',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `<div data-padding-backward></div><div\n  *ngFor=\"let item of items\"\n  [attr.data-sid]=\"item.nodeId\"\n  [style.position]=\"item.invisible ? 'fixed' : null\"\n  [style.left]=\"item.invisible ? '-99999px' : null\"\n><ng-template\n  [ngTemplateOutlet]=\"template\"\n  [ngTemplateOutletContext]=\"{\n    $implicit: item.data,\n    index: item.$index\n }\"\n></ng-template></div><div data-padding-forward></div>`\n})\nexport class UiScrollComponent implements OnInit, OnDestroy {\n\n  // come from the directive\n  public version: string;\n  public template: TemplateRef<any>;\n  public datasource: IDatasource | Datasource;\n\n  // use in the template\n  public items: Array<Item>;\n\n  // Component-Workflow integration\n  public workflow: Workflow;\n\n  constructor(\n    public changeDetector: ChangeDetectorRef,\n    public elementRef: ElementRef,\n    public renderer: Renderer2\n  ) {\n  }\n\n  ngOnInit() {\n    this.workflow = new Workflow(this);\n  }\n\n  ngOnDestroy() {\n    this.workflow.dispose();\n  }\n}\n","import { Directive, Input, TemplateRef, ViewContainerRef, ComponentFactoryResolver, OnInit } from '@angular/core';\n\nimport version from './ui-scroll.version';\nimport { UiScrollComponent } from './ui-scroll.component';\nimport { Datasource } from './component/interfaces/datasource';\n\n@Directive({ selector: '[uiScroll][uiScrollOf]' })\nexport class UiScrollDirective implements OnInit {\n  private version: string;\n  private datasource: Datasource;\n\n  constructor(\n    private templateRef: TemplateRef<any>,\n    private viewContainer: ViewContainerRef,\n    private resolver: ComponentFactoryResolver\n  ) {\n  }\n\n  @Input() set uiScrollOf(datasource: Datasource) {\n    this.datasource = datasource;\n  }\n\n  ngOnInit() {\n    const templateView = this.templateRef.createEmbeddedView({});\n    const compFactory = this.resolver.resolveComponentFactory(UiScrollComponent);\n    const componentRef = this.viewContainer.createComponent(\n      compFactory, undefined, this.viewContainer.injector, [templateView.rootNodes]\n    );\n    componentRef.instance.datasource = this.datasource;\n    componentRef.instance.template = this.templateRef;\n    componentRef.instance.version = version;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UiScrollComponent } from './ui-scroll.component';\nimport { UiScrollDirective } from './ui-scroll.directive';\n\n@NgModule({\n  declarations: [\n    UiScrollComponent,\n    UiScrollDirective\n  ],\n  imports: [CommonModule],\n  entryComponents: [UiScrollComponent],\n  exports: [UiScrollDirective],\n  providers: []\n})\nexport class UiScrollModule { }\n","export default '0.0.7';\n"],"sourceRoot":""}